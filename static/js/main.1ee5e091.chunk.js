(this["webpackJsonpchord-helper"]=this["webpackJsonpchord-helper"]||[]).push([[0],{61:function(e,n,t){},62:function(e,n,t){},81:function(e,n,t){"use strict";t.r(n);var r,c,o,a,l,i,u,d=t(0),s=t.n(d),b=t(25),h=t.n(b),j=(t(61),t(6)),f=t(101),g=t(83),m=t(102),O=t(98),x=t(99),v=t(103),p=(t(62),t(104)),k=t(90),C=t(95),w=t(96),S=t(20),y=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],A=/^\s*([A-G]#?)(\d)\s*$/,M=function(e){var n,t=null!==(n=A.exec(e))&&void 0!==n?n:[],r=Object(j.a)(t,3),c=(r[0],r[1]),o=r[2];return[c,Number.parseInt(o)]},N=(Math.pow(2,1/12),function(e,n){var t=y.indexOf(e);return y[(t+n)%12]}),z={"":[0,4,7],maj6:[0,4,7,9],dom7:[0,4,7,10],maj7:[0,4,7,11],aug:[0,4,8],aug7:[0,4,8,10],min:[0,3,7],min6:[0,3,7,9],min7:[0,3,7,10]},G=/^\s*([A-G]#?)(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\s*$/,D=function(e){var n,t=null!==(n=G.exec(e))&&void 0!==n?n:[],r=Object(j.a)(t,3);r[0];return[r[1],r[2]]},E=t(10),P=t(1),F=t(2),B=/^\s*([A-G])(#)?(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\s*$/,I=P.default.span(r||(r=Object(E.a)(["\n  padding-left: ",";\n"])),(function(e){return e.theme.global.borderSize.small})),V=function(e){var n=function(e){var n,t=null!==(n=B.exec(e))&&void 0!==n?n:[],r=Object(j.a)(t,4);return r[0],[r[1],r[2],r[3]]}(e.chord),t=Object(j.a)(n,3),r=t[0],c=t[1],o=t[2];return Object(F.jsxs)("span",{children:[r,Object(F.jsx)("sup",{children:c&&"\u266f"}),o&&Object(F.jsx)(I,{children:o})]})},J=/^\s*([A-G])(#)?(\d)?\s*$/,L=function(e){var n=function(e){var n,t=null!==(n=J.exec(e))&&void 0!==n?n:[],r=Object(j.a)(t,4);return r[0],[r[1],r[2],r[3]]}(e.note),t=Object(j.a)(n,3),r=t[0],c=t[1],o=t[2];return Object(F.jsxs)("span",{children:[r,Object(F.jsx)("sup",{children:c&&"\u266f"}),o&&Object(F.jsx)("sub",{children:o})]})},T=function(e){var n=e.chord;if(!n)return null;var t=function(e){var n=D(e),t=Object(j.a)(n,2),r=t[0],c=t[1];return z[c].map((function(e){return N(r,e)}))}(n);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(k.a,{pad:{horizontal:"medium",vertical:"small"},background:"background-front",border:{side:"right",color:"background-contrast"},children:Object(F.jsx)(m.a,{level:2,size:"small",color:"accent-1",margin:"none",children:Object(F.jsx)(V,{chord:n})})}),Object(F.jsx)(S.a,{pad:{horizontal:"medium",vertical:"small"},direction:"row",gap:"small",children:t.map((function(e){return Object(F.jsx)(v.a,{children:Object(F.jsx)(L,{note:e})},e)}))})]})},$=t(13),H={guitar:{C:[null,3,2,0,1,0],D:[null,null,0,2,3,2],Dmin:[null,null,0,2,3,1],E:[0,2,2,1,0,0],Emin:[0,2,2,0,0,0],G:[3,2,0,0,0,3],A:[null,0,2,2,2,0],Amin:[null,0,2,2,1,0],B:[null,2,4,4,4,2]},guitalele:{}},K={guitar:["E2","A2","D3","G3","B3","E4"],guitalele:["A2","D3","G3","C4","E4","A4"]},R=P.default.table(c||(c=Object(E.a)(["\n  box-sizing: border-box;\n\n  cursor: pointer;\n  user-select: none;\n\n  width: 100%;\n  height: 100%;\n\n  text-align: center;\n\n  td {\n    min-width: 36px;\n    height: 36px;\n\n    border-bottom: "," solid\n      ",";\n    border-right: "," solid\n      ",";\n\n    &:first-child {\n      min-width: 24px;\n      border-right-width: ",";\n\n      background: inherit;\n    }\n  }\n\n  tr:last-child > td,\n  td:first-child {\n    border-bottom: none;\n  }\n"])),(function(e){return e.theme.global.borderSize.xsmall}),(function(e){return e.theme.global.colors["background-contrast"].dark}),(function(e){return e.theme.global.borderSize.xsmall}),(function(e){return e.theme.global.colors.text.dark}),(function(e){return e.theme.global.borderSize.small})),W=P.default.div(o||(o=Object(E.a)(["\n  width: 34px;\n  height: 34px;\n  border-radius: 18px;\n  text-align: center;\n"]))),q=P.default.td(a||(a=Object(E.a)(["\n  ","\n\n  font-weight: ",";\n\n  "," {\n    display: ",";\n\n    background: ",";\n  }\n\n  ","\n\n  &:hover {\n    "," {\n      display: inline-block;\n\n      background: ",";\n\n      font-weight: bold;\n    }\n\n    & > :nth-child(2) {\n      display: none;\n    }\n  }\n"])),(function(e){var n=e.isStringMuted,t=e.isActive,r=e.theme;return n?Object(P.css)(l||(l=Object(E.a)(["\n          color: ",";\n        "])),r.global.colors["text-xweak"].dark):Object(P.css)(i||(i=Object(E.a)(["\n          background: ",";\n          color: ",";\n        "])),r.global.colors["background-contrast"].dark,t?r.global.colors.text.dark:r.global.colors["text-weak"].dark)}),(function(e){return e.isActive?"bold":"normal"}),W,(function(e){return e.isVisible?"inline-block":"none"}),(function(e){var n=e.isPushed,t=e.theme;return n?t.global.colors.border.dark:"transparent"}),(function(e){return e.isVisible&&Object(P.css)(u||(u=Object(E.a)(["\n      & > :nth-child(2) {\n        display: none;\n      }\n    "])))}),W,(function(e){var n=e.isPushed,t=e.theme;return n?t.global.colors["accent-1"]:t.global.colors["background-contrast"].dark})),Q=function(e){var n,t=e.instrument,r=void 0===t?"guitar":t,c=e.chord,o=e.selectedNote,a=e.onSelectNote,l=H[r],i=c&&c in l&&l[c]||[null,null,null,null,null,null],u=Object($.a)(i).reverse(),d=i.map((function(e){return null!==e&&void 0!==e?e:0})).reduce((function(e,n){return e>n?e:n}),4)+1,s=null!==(n=K[r])&&void 0!==n?n:[null,null,null,null,null,null],b=Object($.a)(s).reverse(),h=u.map((function(e,n){return new Array(d).fill(void 0).map((function(t,r){var c=function(e,n){var t=M(e),r=Object(j.a)(t,2),c=r[0],o=r[1];return function(e,n){return"".concat(e).concat(n)}(N(c,n),o+Math.sign(n)*Math.floor(Math.abs(n)/12))}(b[n],r),a=M(c),l=Object(j.a)(a,1)[0];return{isStringMuted:null===e,isVisible:r===e||0===r,isActive:r===e,isPushed:r===e&&0!==r,isSelected:o===l,note:c,noteName:l}}))}));return Object(F.jsx)(R,{children:Object(F.jsx)("tbody",{children:h.map((function(e,n){return Object(F.jsx)("tr",{children:e.map((function(e){var t=e.isStringMuted,r=e.isVisible,c=e.isActive,o=e.isPushed,l=e.isSelected,i=e.note,u=e.noteName;return Object(F.jsxs)(q,{isStringMuted:t,isVisible:r||l,isActive:c||l,isPushed:o,onClick:function(){return a(l?void 0:u)},children:[Object(F.jsx)(W,{children:Object(F.jsx)(L,{note:i})}),t&&!r&&Object(F.jsx)(v.a,{children:"\ud83d\udfa9"})]},"".concat(n).concat(i))}))},n)}))})})},U=function(e){var n=e.chord,t=e.selectedNote,r=e.onSelectNote;return Object(F.jsxs)(k.a,{background:"background-back",width:"500px",children:[Object(F.jsx)(C.a,{background:"background-contrast",border:{side:"bottom",color:"background-contrast"},children:Object(F.jsx)(T,{chord:n})}),Object(F.jsx)(w.a,{pad:"small",border:{side:"top",color:"background-contrast"},children:Object(F.jsx)(Q,{chord:n,selectedNote:t,onSelectNote:r})})]})},X=function(e){var n=e.chords,t=Object(d.useState)(),r=Object(j.a)(t,2),c=r[0],o=r[1];return Object(F.jsx)(p.a,{columns:"medium",gap:"small",justify:"center",children:n.map((function(e){return Object(F.jsx)(U,{chord:e,selectedNote:c,onSelectNote:o},e)}))})},Y=t(100),Z=function(e){var n=e.chords,t=e.onChordSelected,r=Object(d.useState)(),c=Object(j.a)(r,2),o=c[0],a=c[1],l=Object(d.useState)(""),i=Object(j.a)(l,2),u=i[0],s=i[1],b=Object(d.useMemo)((function(){return n.map((function(e){return{label:e,value:e}})).filter((function(e){return e.label.toLowerCase().includes(u.toLowerCase())}))}),[n,u]),h=Object(d.useCallback)((function(e){var n=e.value;a(void 0),s(""),t(n)}),[t]);return Object(F.jsx)(Y.a,{value:o,options:b,valueKey:{key:"value",reduce:!0},labelKey:function(e){return e.label},closeOnChange:!1,placeholder:"Add chords",searchPlaceholder:"Search by name",onSearch:s,onChange:h})},_=function(e,n,t,r){var c=Object(d.useMemo)((function(){return function(e,n){var t;return function(r,c){var o=n(r,c);return o!==r&&(window.clearTimeout(t),t=window.setTimeout((function(){try{localStorage.setItem(e,JSON.stringify(o)),console.log("Written to local storage",o)}catch(n){console.error("Couldn't write to local storage.",n)}}),100)),o}}(e,n)}),[e,n]),o=Object(d.useMemo)((function(){return function(e,n){try{var t=localStorage.getItem(e),r=t&&JSON.parse(t);return console.log("Read from local storage",r),r}catch(c){console.error("Couldn't read from local storage.",c)}}(e)}),[e,t]);return Object(d.useReducer)(c,null!==o&&void 0!==o?o:t,o?void 0:r)},ee=t(19),ne={selectedChords:["D"]},te=function(e,n){switch(n.type){case"addChord":return e.selectedChords.find((function(e){return e===n.chord}))?e:Object(ee.a)(Object(ee.a)({},e),{},{selectedChords:[].concat(Object($.a)(e.selectedChords),[n.chord])});case"removeChord":return e.selectedChords.find((function(e){return e===n.chord}))?Object(ee.a)(Object(ee.a)({},e),{},{selectedChords:Object($.a)(e.selectedChords.filter((function(e){return e!==n.chord})))}):e;default:throw new Error}},re=function(e){return e.selectedChords},ce=t(53),oe=t(52),ae=Object(oe.deepMerge)(ce.grommet,{global:{colors:{background:"#010115","background-back":{dark:"#080920"},"background-front":{dark:"#15173d"},"background-contrast":{dark:"#3f438a17"},black:"#00010d",white:"#fff9ef",brand:"#87ccb0","accent-1":"#d1ad70",border:{dark:"#d1ad7080"}}},card:{container:{border:"solid",round:"xxsmall",elevation:null}}});var le=function(){var e=_("applicationState",te,ne),n=Object(j.a)(e,2),t=n[0],r=n[1],c=re(t),o=function(e){var n=re(e);return Object.keys(H.guitar).filter((function(e){return n.indexOf(e)<0}))}(t),a=Object(d.useCallback)((function(e){return r({type:"addChord",chord:e})}),[r]);return Object(F.jsxs)(f.a,{full:!0,theme:ae,themeMode:"dark",children:[Object(F.jsx)(g.a,{pad:{vertical:"medium",horizontal:"large"},background:"brand",children:Object(F.jsx)(m.a,{size:"small",margin:"none",children:"Chord Helper"})}),Object(F.jsxs)(O.a,{pad:"large",gap:"medium",children:[Object(F.jsx)(Z,{chords:o,onChordSelected:a}),Object(F.jsx)(X,{chords:c})]}),Object(F.jsx)(x.a,{pad:{vertical:"small",horizontal:"large"},background:"black",justify:"center",children:Object(F.jsx)(v.a,{color:"text-xweak",children:"Helping you with chords since 2021."})})]})},ie=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,105)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),r(e),c(e),o(e),a(e)}))};h.a.render(Object(F.jsx)(s.a.StrictMode,{children:Object(F.jsx)(le,{})}),document.getElementById("root")),ie()}},[[81,1,2]]]);
//# sourceMappingURL=main.1ee5e091.chunk.js.map