(this["webpackJsonpchord-helper"]=this["webpackJsonpchord-helper"]||[]).push([[0],{133:function(e,n,t){},134:function(e,n,t){},135:function(e,n,t){"use strict";t.r(n);var r,o,c,i,a,s,d,l=t(0),u=t.n(l),h=t(167),j=t(97),b=t(44),f=t.n(b),g=t(27),m=t(6),O=t(173),x=t(187),v=t(138),p=t(174),C=t(188),S=t(166),y=t(176),k=t(7),A=t(11),U=t(21),w=t(2),F=t(3),I=Object(w.default)(g.b)(r||(r=Object(U.a)(["\n  &:link,\n  &:visited {\n    color: inherit;\n    text-decoration-color: inherit;\n  }\n"]))),E=function(e){return Object(F.jsx)(I,Object(A.a)({},e))},D=function(e,n,t,r,o){var c=Object(l.useMemo)((function(){return function(e,n){var t;return function(r,o){var c=n(r,o);return c!==r&&(window.clearTimeout(t),t=window.setTimeout((function(){try{localStorage.setItem(e,JSON.stringify(c)),console.log("Written to local storage (version: ".concat(c.version,")"),c)}catch(n){console.error("Couldn't write to local storage.",n)}}),100)),c}}(e,n)}),[e,n]),i=Object(l.useMemo)((function(){return function(e){try{var n=localStorage.getItem(e),t=n&&JSON.parse(n);return console.log("Read from local storage (version: ".concat(null===t||void 0===t?void 0:t.version,")"),t),t}catch(r){console.error("Couldn't read from local storage.",r)}}(e)}),[e]),a=Object(l.useMemo)((function(){return t(null!==i&&void 0!==i?i:r)}),[t,i,r]);return Object(l.useReducer)(c,a,i?void 0:o)},M=function(){return{type:"addChordSet"}},z=function(e,n){return{type:"moveChordSet",chordSetToMoveIndex:e,targetChordSetIndex:n}},K=function(e){return{type:"removeChordSet",chordSetToRemoveIndex:e}},N=function(e,n){return{type:"setChordSetName",chordSetIndex:e,newName:n}},T=function(e,n){return{type:"setChordSetDescription",chordSetIndex:e,newDescription:n}},R=function(e,n){return{type:"setChordSetKey",chordSetIndex:e,newKey:n}},L=function(e,n){return{type:"addChordToSet",chordSetIndex:e,chordToAdd:n}},J=function(e,n,t){return{type:"moveChordInSet",chordSetIndex:e,chordToMoveIndex:n,targetChordIndex:t}},B=function(e,n){return{type:"removeChordFromSet",chordSetIndex:e,chordToRemove:n}},H=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],V=/^\s*([A-G]#?)(\d)\s*$/,G=function(e){var n,t=null!==(n=V.exec(e))&&void 0!==n?n:[],r=Object(m.a)(t,3),o=(r[0],r[1]),c=r[2];return[o,Number.parseInt(c)]},P=function(e,n){var t=H.indexOf(e);return H[(t+n)%12]},Z={"":[0,4,7],maj6:[0,4,7,9],dom7:[0,4,7,10],maj7:[0,4,7,11],aug:[0,4,8],aug7:[0,4,8,10],min:[0,3,7],min6:[0,3,7,9],min7:[0,3,7,10],dim:[0,3,6],dim7:[0,3,6,9]},Q=/^\s*([A-G]#?)(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\s*$/,Y=function(e){var n,t=null!==(n=Q.exec(e))&&void 0!==n?n:[],r=Object(m.a)(t,3);r[0];return[r[1],r[2]]},X=function(e,n){return"".concat(e).concat(n)},q=function(e,n){var t=Y(e),r=Object(m.a)(t,2),o=r[0],c=r[1],i=P(o,n);return X(i,c)},$=function(e){return{chord:q("E",e),type:"barre",positions:[[e,[1,6]],[e+1,4],[e+2,2],[e+2,3]],mutedStrings:[]}},W=function(e){return{chord:q("Emin",e),type:"barre",positions:[[e,[1,6]],null,[e+2,2],[e+2,3]],mutedStrings:[]}},_=function(e){return{chord:q("A",e),type:"barre",positions:[[e,[2,6]],[e+2,3],[e+2,4],[e+2,5]],mutedStrings:[1]}},ee=function(e){return{chord:q("Amin",e),type:"barre",positions:[[e,[2,6]],[e+1,5],[e+2,3],[e+2,4]],mutedStrings:[1]}},ne={guitar:[{chord:"C",type:"simple",positions:[[1,5],[2,3],[3,2],null],mutedStrings:[1]},{chord:"D",type:"simple",positions:[[2,4],[2,6],[3,5],null],mutedStrings:[1,2]},{chord:"Dmin",type:"simple",positions:[[1,6],[2,4],[3,5],null],mutedStrings:[1,2]},{chord:"D#min",type:"simple",positions:[[1,3],[2,6],[3,4],[4,5]],mutedStrings:[1,2]},{chord:"E",type:"simple",positions:[[1,4],[2,2],[2,3],null],mutedStrings:[]},{chord:"Emin",type:"simple",positions:[null,[2,2],[2,3],null],mutedStrings:[]},$(1),W(1),$(2),W(2),{chord:"G",type:"simple",positions:[[2,2],[3,1],[3,6],null],mutedStrings:[]},W(3),$(4),W(4),{chord:"A",type:"simple",positions:[[2,3],[2,4],[2,5],null],mutedStrings:[1]},{chord:"Amin",type:"simple",positions:[[1,5],[2,3],[2,4],null],mutedStrings:[1]},_(1),ee(1),_(2),ee(2)],guitalele:[]},te=ne,re={"":[0,2,4,5,7,9,11],min:[0,2,3,5,7,8,10]},oe=/^\s*([A-G]#?)(|min)\s*$/,ce=function(e){var n,t=null!==(n=oe.exec(e))&&void 0!==n?n:[],r=Object(m.a)(t,3);r[0];return[r[1],r[2]]},ie=function(e,n){return"".concat(e).concat(n)},ae=function(){return H.flatMap((function(e){return Object.keys(re).map((function(n){return ie(e,n)}))}))},se=function(e){var n=ce(e),t=Object(m.a)(n,2),r=t[0],o=t[1],c=re[o];return c.map((function(e){var n,t=c.map((function(n){return(n-e+12)%12})),o=Object.entries(Z).filter((function(e){var n=Object(m.a)(e,2),r=(n[0],n[1]);return r.every((function(e){return t.includes(e)}))&&3===r.length}));1!==o.length&&console.log(t,o);var i=null!==(n=o[0])&&void 0!==n?n:[],a=Object(m.a)(i,1)[0];return X(P(r,e),a)}))},de=function(e){return e.chordSets},le=function(e){return function(n){return de(n)[e]}},ue=function(e){var n=le(e);return function(e){var t=n(e);if(t){var r,o=t.selectedKey,c=t.selectedChords,i=o&&se(o),a=(r="guitar",ne[r].map((function(e){return e.chord}))).filter((function(e){return c.indexOf(e)<0}));return i?a.filter((function(e){return i.includes(e)})):a}}},he=function(e){var n=le(e);return function(e){var t,r=n(e);if(r)return(t=r.selectedChords,ae().map((function(e){var n=se(e);return{key:e,chordCount:t.filter((function(e){return n.includes(e)})).length,weight:t.map((function(e){return n.indexOf(e)})).reduce((function(e,t){return-1!==t?e+n.length-t:e}),0)}})).filter((function(e){return e.weight>0})).sort((function(e,n){return n.weight-e.weight}))).map((function(e){return e.key})).slice(0,3)}},je=t(54),be=t(175),fe=t(151),ge=function(){return Object(F.jsxs)(je.a,{align:"center",children:[Object(F.jsx)(fe.a,{size:"large"}),Object(F.jsx)(p.a,{level:2,textAlign:"center",children:"Page not found"}),Object(F.jsxs)(be.a,{textAlign:"center",children:["This page doesn't exist. ",Object(F.jsx)(E,{to:"/",children:"Go back."})]})]})},me=function(){return Object(F.jsx)(ge,{})},Oe=t(182),xe=function(e){var n=e.children;return Object(F.jsx)(je.a,{as:"header",direction:"row",align:"start",gap:"small",children:n})},ve=t(185),pe=t(179),Ce=t(153),Se=t(159),ye=t(160),ke=t(168),Ae=t(169),Ue="DEFAULT",we=function(e,n,t,r){var o=Object(ke.a)({type:Ue,item:{index:e},canDrag:n,collect:function(e){return{isDragging:e.isDragging()}}}),c=Object(m.a)(o,2),i=c[0].isDragging,a=c[1],s=Object(Ae.a)({accept:Ue,hover:function(n,o){var c=n.index,i=e;if(c!==i&&t.current){var a=t.current.getBoundingClientRect(),s=(a.right-a.left)/2,d=o.getClientOffset().x-a.left;c<i&&d<s||c>i&&d>s||(null===r||void 0===r||r(c),n.index=i)}}}),d=Object(m.a)(s,2);d[0];return a((0,d[1])(t)),i},Fe=t(184),Ie=t(172),Ee=t(157),De=/^\s*([A-G])(#)?\s*$/,Me=function(e){var n=e.note,t=n?function(e){var n,t=null!==(n=De.exec(e))&&void 0!==n?n:[],r=Object(m.a)(t,3);return r[0],[r[1],r[2]]}(n):[],r=Object(m.a)(t,2),o=r[0],c=r[1];return Object(F.jsxs)(F.Fragment,{children:[o||Object(F.jsx)(F.Fragment,{children:"\xa0"}),Object(F.jsx)("sup",{children:c&&"\u266f"})]})},ze=w.default.span(o||(o=Object(U.a)(["\n  padding-left: ",";\n"])),(function(e){return e.theme.global.borderSize.small})),Ke=function(e){var n=e.chord,t=n?Y(n):[],r=Object(m.a)(t,2),o=r[0],c=r[1];return Object(F.jsxs)("span",{children:[Object(F.jsx)(Me,{note:o}),c&&Object(F.jsx)(ze,{children:c})]})},Ne=function(e){var n=e.chord,t=e.isEditing,r=e.onRemove,o=n?function(e){var n=Y(e),t=Object(m.a)(n,2),r=t[0],o=t[1];return Z[o].map((function(e){return P(r,e)}))}(n):[];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ce.a,{pad:{horizontal:"medium",vertical:"small"},background:"background-front",border:{side:"right",color:"background-contrast"},children:Object(F.jsx)(p.a,{level:3,size:"medium",color:"accent-1",margin:"none",children:Object(F.jsx)(Ke,{chord:n})})}),Object(F.jsxs)(je.a,{direction:"row",pad:{horizontal:"small"},gap:"small",align:"center",children:[Object(F.jsx)(je.a,{pad:{top:"xsmall"},children:Object(F.jsx)(y.a,{children:o.map((function(e,n){return Object(F.jsxs)(l.Fragment,{children:[0!==n&&" ",Object(F.jsx)(Me,{note:e})]},e)}))})}),Object(F.jsx)(Fe.a,{open:t,direction:"horizontal",children:Object(F.jsx)(Ie.a,{icon:Object(F.jsx)(Ee.a,{}),a11yTitle:"Remove chord ".concat(n),onClick:r})})]})]})},Te=t(158),Re=function(e){var n=e.note,t=n?G(n):[],r=Object(m.a)(t,2),o=r[0],c=r[1];return Object(F.jsxs)("span",{children:[Object(F.jsx)(Me,{note:o}),c&&Object(F.jsx)("sub",{children:c})]})},Le={guitar:["E2","A2","D3","G3","B3","E4"],guitalele:["A2","D3","G3","C4","E4","A4"]},Je=Object(w.default)(je.a)(c||(c=Object(U.a)(["\n  width: calc(\n    100% - "," +\n      ","\n  );\n  height: ",";\n  border-radius: calc("," / 2);\n  justify-self: center;\n"])),(function(e){return e.gridCellWidth}),(function(e){return e.noteCircleSize}),(function(e){return e.noteCircleSize}),(function(e){return e.noteCircleSize})),Be=Object(w.default)(y.a)(i||(i=Object(U.a)(["\n  width: ",";\n  height: ",";\n  border-radius: calc("," / 2);\n  text-align: center;\n"])),(function(e){return e.noteCircleSize}),(function(e){return e.noteCircleSize}),(function(e){return e.noteCircleSize})),He=Object(w.default)(je.a)(a||(a=Object(U.a)(["\n  width: 100%;\n  height: 100%;\n\n  color: ",";\n\n  font-weight: ",";\n\n  "," {\n    display: ",";\n  }\n\n  ","\n\n  ","\n"])),(function(e){var n=e.isStringMuted,t=e.isActive,r=e.theme;return n?r.global.colors["text-xweak"].dark:t?r.global.colors.text.dark:r.global.colors["text-weak"].dark}),(function(e){return e.isActive?"bold":"normal"}),Be,(function(e){return e.isVisible?"inline-block":"none"}),(function(e){return e.isVisible&&Object(w.css)(s||(s=Object(U.a)(["\n      & > :nth-child(2) {\n        display: none;\n      }\n    "])))}),(function(e){var n=e.disabled,t=e.isPushed,r=e.theme;return!n&&Object(w.css)(d||(d=Object(U.a)(["\n      cursor: pointer;\n\n      &:hover {\n        "," {\n          display: inline-block;\n\n          background: ",";\n\n          font-weight: bold;\n        }\n\n        & > :nth-child(2) {\n          display: none;\n        }\n      }\n    "])),Be,t?r.global.colors["accent-1"]:r.global.colors["background-contrast"].dark)})),Ve=function(e,n,t,r){var o="".concat(2*e+1,"/").concat(2*n+1),c="".concat(2*(null!==t&&void 0!==t?t:e)+3,"/").concat(2*(null!==r&&void 0!==r?r:n)+3);return"".concat(o," / ").concat(c)},Ge=function(e){var n,t,r,o=e.instrument,c=void 0===o?"guitar":o,i=e.chord,a=e.disabled,s=e.highlightedNote,d=e.onHighlightNote,u=te[c]||[],h=i&&u.find((function(e){return e.chord===i})),j=function(e){return e.map((function(e,n){return{pos:e,fingerIndex:n}})).filter((function(e){return null!=e.pos})).map((function(e){var n=e.pos,t=e.fingerIndex,r=Object(m.a)(n,2),o=r[0],c=r[1],i=Array.isArray(c)?c:[c,c],a=Object(m.a)(i,2);return{fretId:o,startStringId:a[0],endStringId:a[1],fingerIndex:t}}))}(null!==(n=null===h||void 0===h?void 0:h.positions)&&void 0!==n?n:[null,null,null,null]),b=null!==(t=null===h||void 0===h?void 0:h.mutedStrings)&&void 0!==t?t:[],f=j.reduce((function(e,n){var t=n.fretId;return Math.max(e,t+1)}),4)+1,g=null!==(r=Le[c])&&void 0!==r?r:[null,null,null,null,null,null],O=g.length-1,x=g.map((function(e,n){return{gridArea:Ve(1,n+.5,f,n+.5),isMuted:b.includes(n+1)}})),v=new Array(f).fill(void 0).map((function(e,n){return{gridArea:Ve(n,.5,n,O-.5),isStart:0===n}})),p=j.map((function(e){var n=e.startStringId,t=e.endStringId,r=e.fretId,o=e.fingerIndex;return{gridArea:Ve(r,n-1,r,t-1),finger:o+1}})),C=g.map((function(e,n){var t=n+1,r=b.includes(t);return new Array(f).fill(void 0).map((function(o,c){var i=!!j.find((function(e){var n=e.startStringId,r=e.endStringId,o=e.fretId;return t>=n&&t<=r&&c===o})),d=function(e,n){var t=G(e),r=Object(m.a)(t,2),o=r[0],c=r[1];return function(e,n){return"".concat(e).concat(n)}(P(o,n%12),c+Math.sign(n)*Math.floor(Math.abs(n)/12))}(e,c),l=G(d),u=Object(m.a)(l,1)[0];return{gridArea:Ve(c,n),isStringMuted:r,isVisible:i||0===c,isActive:i,isPushed:i&&0!==c,isHighlighted:!a&&s===u,note:d,noteName:u}}))})),S="small"===Object(l.useContext)(ve.a),y=S?"24px":"36px",k=S?"28px":"42px";return Object(F.jsxs)(pe.a,{columns:Array(2*(O+1)).fill(S?"14px":"21px"),rows:Array(2*f).fill(S?"16px":"24px"),children:[x.map((function(e){var n=e.gridArea;return Object(F.jsx)(je.a,{gridArea:n,border:[{side:"left",color:"text-xweak",size:"xsmall"}]},n)})),v.map((function(e){var n=e.gridArea,t=e.isStart;return Object(F.jsx)(je.a,{gridArea:n,border:{side:"bottom",color:"text",size:t?"medium":"xsmall"}},n)})),p.map((function(e){var n=e.gridArea;e.finger;return Object(F.jsx)(Je,{gridArea:n,noteCircleSize:y,gridCellWidth:k,alignSelf:"center",background:{dark:"border"}},n)})),C.map((function(e){return e.map((function(e){var n=e.isStringMuted,t=e.isVisible,r=e.isActive,o=e.isPushed,c=e.isHighlighted,i=e.note,s=e.noteName,l=e.gridArea;return Object(F.jsxs)(He,{gridArea:l,align:"center",justify:"center",disabled:a,isStringMuted:n,isVisible:t||c,isActive:r||c,isPushed:o,onClick:!a&&d?function(){return d(c?void 0:s)}:void 0,children:[Object(F.jsx)(Be,{noteCircleSize:y,size:S?"xsmall":"medium",textAlign:"center",children:Object(F.jsx)(Re,{note:i})}),n&&Object(F.jsx)(Te.a,{size:S?"8px":"12px"})]},l)}))}))]})},Pe=function(e){var n=e.chord,t=e.index,r=void 0===t?-1:t,o=e.isEditing,c=void 0!==o&&o,i=e.highlightedNote,a=e.onMove,s=e.onRemove,d=e.onHighlightNote,u=Object(l.useRef)(null),h=we(r,c,u,a);return Object(F.jsxs)(Ce.a,{ref:u,background:"background-back",width:"fit-content",style:{cursor:c?"grab":"default",opacity:h?.3:1},children:[Object(F.jsx)(Se.a,{background:"background-contrast",border:{side:"bottom",color:"background-contrast"},justify:"between",children:Object(F.jsx)(Ne,{chord:n,isEditing:c||!1,onRemove:s})}),Object(F.jsx)(ye.a,{pad:{bottom:"small",horizontal:"xsmall"},border:{side:"top",color:"background-contrast"},children:Object(F.jsx)(Ge,{chord:n,disabled:c||!1,highlightedNote:i,onHighlightNote:d})})]})},Ze=t(178),Qe=t(161),Ye=function(e){var n=e.onAdd;return Object(F.jsxs)(Ze.a,{fill:!0,interactiveChild:"last",children:[Object(F.jsx)(Pe,{}),Object(F.jsx)(Ie.a,{fill:!0,onClick:n,children:Object(F.jsxs)(je.a,{fill:!0,align:"center",justify:"center",gap:"large",background:{color:"background",opacity:"strong"},border:{color:"border-semi"},children:[Object(F.jsx)(Qe.a,{size:"large",color:"accent-1"}),Object(F.jsx)(y.a,{size:"large",textAlign:"center",color:"accent-1",children:"Add a chord to start"})]})})]})},Xe=function(e){var n=e.chords,t=e.isEditing,r=e.onAddChord,o=e.onMoveChord,c=e.onRemoveChord,i=Object(l.useState)(),a=Object(m.a)(i,2),s=a[0],d=a[1],u="small"===Object(l.useContext)(ve.a);return Object(F.jsx)(pe.a,{columns:u?"176px":"266px",gap:"small",justify:"center",children:0!==n.length?n.map((function(e,n){return Object(F.jsx)(Pe,{chord:e,index:n,isEditing:t,highlightedNote:s,onMove:function(e){return o(e,n)},onRemove:function(){return c(e)},onHighlightNote:d},e)})):Object(F.jsx)(Ye,{onAdd:r})})},qe=t(170),$e=function(e){var n=e.chords,t=e.isEditing,r=e.focusRef,o=e.onAdd,c=Object(l.useState)(!1),i=Object(m.a)(c,2),a=i[0],s=i[1],d=Object(l.useState)(""),u=Object(m.a)(d,2),h=u[0],j=u[1];r.current=Object(l.useCallback)((function(){return setTimeout((function(){return s(!0)}),300)}),[s]);var b=Object(l.useMemo)((function(){return n.map((function(e){return{label:e,value:e}})).filter((function(e){return e.label.toLowerCase().includes(h.toLowerCase())}))}),[n,h]),f=Object(l.useCallback)((function(e){var n=e.value;j(""),o(n)}),[o]);return Object(F.jsx)(Fe.a,{open:t,direction:"horizontal",children:Object(F.jsx)(qe.a,{icon:Object(F.jsx)(Qe.a,{}),open:a,options:b,valueKey:{key:"value",reduce:!0},labelKey:function(e){return e.label},closeOnChange:!1,placeholder:"Add chords",searchPlaceholder:"Search by name",a11yTitle:"Select chords to add",onOpen:function(){return s(!0)},onClose:function(){return s(!1)},onSearch:j,onChange:f})})},We=t(180),_e=function(e){var n=e.keyName,t=n?ce(n):[],r=Object(m.a)(t,2),o=r[0],c=r[1];return Object(F.jsxs)("span",{children:[Object(F.jsx)(Me,{note:o}),c&&Object(F.jsx)(ze,{children:c})]})},en=function(e){var n=e.children;return Object(F.jsx)(p.a,{level:2,size:"small",margin:{vertical:"small"},children:n})},nn=function(e){var n=e.name,t=e.description,r=e.selectedKey,o=e.isEditing,c=e.onSetName,i=e.onSetDescription,a=e.onIsEditingChange;return Object(F.jsx)(Oe.a,{onEnter:function(){return a(!1)},children:Object(F.jsxs)(je.a,{width:"100%",children:[Object(F.jsxs)(je.a,{direction:"row",align:"baseline",gap:"small",children:[Object(F.jsxs)(en,{children:[o?Object(F.jsx)(We.a,{plain:"full",value:n,placeholder:"Enter name",onChange:function(e){return c(e.target.value)}}):n||Object(F.jsx)("em",{children:"Unnamed chord set"})," "]}),r&&!o&&Object(F.jsxs)(y.a,{size:"large",children:["in ",Object(F.jsx)(_e,{keyName:r})]})]}),Object(F.jsx)(y.a,{children:o?Object(F.jsx)(We.a,{plain:"full",value:t,placeholder:"Enter description",onChange:function(e){return i(e.target.value)}}):t||Object(F.jsx)("em",{children:"No description"})})]})})},tn=t(163),rn=t(164),on=function(e){var n=e.isEditing,t=e.onIsEditingChange;return Object(F.jsx)(Ie.a,{icon:Object(F.jsxs)(je.a,{direction:"row",children:[Object(F.jsx)(Fe.a,{open:n,direction:"horizontal",children:Object(F.jsx)(tn.a,{})}),Object(F.jsx)(Fe.a,{open:!n,direction:"horizontal",children:Object(F.jsx)(rn.a,{})})]}),a11yTitle:n?"Done adding/removing chords":"Add/remove chords",primary:n,onClick:function(){return t(!n)}})},cn=t(24),an=t(165),sn=function(e){var n=e.selectedKey,t=e.suggestedKeys,r=e.keys,o=e.isEditing,c=e.onChange,i=Object(l.useState)(""),a=Object(m.a)(i,2),s=a[0],d=a[1],u=Object(l.useMemo)((function(){return!s&&t.length>0?[{label:"Suggested keys"}].concat(Object(cn.a)(t.map((function(e){return{label:e,value:e}}))),[{label:"Other keys"}],Object(cn.a)(r.filter((function(e){return!t.includes(e)})).map((function(e){return{label:e,value:e}})))):r.map((function(e){return{label:e,value:e}})).filter((function(e){return e.label.toLowerCase().includes(s.toLowerCase())}))}),[r,s,t]),h=Object(l.useCallback)((function(e){var n=e.value;d(""),c(n||void 0)}),[c]);return Object(F.jsx)(Fe.a,{open:o,direction:"horizontal",children:Object(F.jsx)(qe.a,{icon:Object(F.jsx)(an.a,{}),value:n,clear:{label:"Clear key filter"},options:u,valueKey:{key:"value",reduce:!0},labelKey:function(e){return e.label},disabledKey:function(e){return void 0===e.value},placeholder:"Filter by key",searchPlaceholder:"Search by name",a11yTitle:"Filter chords by key",onSearch:d,onChange:h})})},dn=function(e){var n=e.name,t=e.description,r=e.selectedKey,o=e.selectedChords,c=e.availableKeys,i=e.filteredChords,a=e.suggestedKeys,s=e.onSetName,d=e.onSetDescription,u=e.onSetKey,h=e.onAddChord,j=e.onMoveChord,b=e.onRemoveChord,f=Object(l.useState)(!1),g=Object(m.a)(f,2),O=g[0],x=g[1],v=Object(l.useRef)();return Object(F.jsx)(Oe.a,{onEsc:function(){return x(!1)},children:Object(F.jsxs)(je.a,{gap:"medium",children:[Object(F.jsxs)(xe,{children:[Object(F.jsx)(nn,{name:n,description:t,selectedKey:r,isEditing:O,onSetName:s,onSetDescription:d,onIsEditingChange:x}),Object(F.jsxs)(je.a,{direction:"row",justify:"end",align:"center",gap:"small",width:"100%",children:[Object(F.jsx)(sn,{selectedKey:r,keys:c,suggestedKeys:a,isEditing:O,onChange:u}),Object(F.jsx)($e,{chords:i,isEditing:O,onAdd:h,focusRef:v}),Object(F.jsx)(on,{isEditing:O,onIsEditingChange:x})]})]}),Object(F.jsx)(Xe,{chords:o,isEditing:O,onAddChord:function(){var e;x(!0),null===(e=v.current)||void 0===e||e.call(v)},onMoveChord:j,onRemoveChord:b})]})})},ln=function(e){var n=e.state,t=e.dispatch,r=Object(k.g)().chordSetId,o=Number.parseInt(r),c=function(e,n){return function(t){return Object(l.useCallback)((function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e(t.apply(void 0,[n].concat(o)))}),[t,n,e])}}(t,o),i=ae(),a=le(o)(n),s=ue(o)(n),d=he(o)(n),u=c(N),h=c(T),j=c(R),b=c(L),f=c(J),g=c(B);if(!a||!s||!d)return Object(F.jsx)(me,{});var m=a.name,O=a.description,x=a.selectedKey,v=a.selectedChords;return Object(F.jsx)(dn,{name:m,description:O,selectedKey:x,selectedChords:v,availableKeys:i,filteredChords:s,suggestedKeys:d,onSetName:u,onSetDescription:h,onSetKey:j,onAddChord:b,onMoveChord:f,onRemoveChord:g})},un=function(e){var n=e.chord;return Object(F.jsx)(Ce.a,{background:"background-front",width:{min:"32px"},pad:"xxsmall",children:Object(F.jsx)(y.a,{size:"medium",textAlign:"center",color:"accent-1",children:Object(F.jsx)(Ke,{chord:n})})})},hn=function(){return Object(F.jsxs)(Ze.a,{interactiveChild:"last",children:[Object(F.jsx)(un,{chord:"C"}),Object(F.jsx)(je.a,{fill:!0,background:{color:"background",opacity:"strong"},border:{color:"border-semi"}})]})},jn=function(e){var n=e.chordSetIndex,t=void 0===n?-1:n,r=e.name,o=void 0===r?"":r,c=e.description,i=void 0===c?"":c,a=e.selectedKey,s=e.selectedChords,d=void 0===s?[]:s,u=e.onMove,h=e.onRemove,j=Object(l.useRef)(null),b=Object(l.useState)(!1),f=Object(m.a)(b,2),g=f[0],O=f[1],x=Object(l.useCallback)((function(e){O(!1),null===u||void 0===u||u(e)}),[u]),v=we(t,!g,j,x);return Object(F.jsx)(Oe.a,{onEsc:function(){return O(!1)},children:Object(F.jsxs)(Ce.a,{ref:j,background:"background-back",fill:!0,border:{color:"border-brand"},style:{cursor:g?"default":"grab",opacity:v?.3:1},children:[Object(F.jsxs)(Se.a,{pad:"small",background:"background-contrast",border:{side:"bottom",color:"background-contrast"},children:[Object(F.jsxs)(E,{to:"/chord-sets/".concat(t),children:[Object(F.jsx)(p.a,{level:3,size:"small",margin:"none",color:"brand",children:o||Object(F.jsx)("em",{children:"Unnamed chord set"})}),a&&Object(F.jsxs)(y.a,{size:"large",children:["in ",Object(F.jsx)(_e,{keyName:a})]})]}),Object(F.jsxs)(je.a,{direction:"row",gap:"small",justify:"end",align:"center",children:[Object(F.jsx)(Fe.a,{open:g,direction:"horizontal",children:Object(F.jsx)(Ie.a,{icon:Object(F.jsx)(Te.a,{}),a11yTitle:"Cancel removing chord set ".concat(o),onClick:function(){return O(!1)}})}),Object(F.jsx)(Ie.a,{icon:Object(F.jsxs)(je.a,{direction:"row",children:[Object(F.jsx)(Fe.a,{open:g,direction:"horizontal",children:Object(F.jsx)(tn.a,{})}),Object(F.jsx)(Fe.a,{open:!g,direction:"horizontal",children:Object(F.jsx)(Ee.a,{})})]}),a11yTitle:g?"Confirm removing chord set ".concat(o):"Remove chord set ".concat(o),primary:g,onClick:function(){g&&h&&h(),O(!g)}})]})]}),Object(F.jsxs)(ye.a,{pad:"small",gap:"small",border:{side:"top",color:"background-contrast"},children:[Object(F.jsx)(y.a,{children:i||Object(F.jsx)("em",{children:"No description"})}),Object(F.jsx)(je.a,{direction:"row",align:"start",wrap:!0,gap:"xsmall",children:d.length>0?d.map((function(e){return Object(F.jsx)(un,{chord:e},e)})):Object(F.jsx)(hn,{})})]})]})})},bn=function(e){var n=e.onAdd;return Object(F.jsxs)(Ze.a,{fill:!0,interactiveChild:"last",children:[Object(F.jsx)(jn,{}),Object(F.jsx)(Ie.a,{fill:!0,onClick:n,children:Object(F.jsxs)(je.a,{fill:!0,align:"center",justify:"center",gap:"medium",height:{min:"150px"},background:{color:"background",opacity:"strong"},border:{color:"border-brand-semi"},children:[Object(F.jsx)(Qe.a,{size:"large",color:"accent-1"}),Object(F.jsx)(y.a,{size:"large",textAlign:"center",color:"accent-1",children:"Add your first chord set"})]})})]})},fn=function(e){var n=e.chordSets,t=e.onAddChordSet,r=e.onMoveChordSet,o=e.onRemoveChordSet;return Object(F.jsx)(pe.a,{columns:"medium",gap:"small",justify:"center",children:0!==n.length?n.map((function(e,n){var t=e.name,c=e.description,i=e.selectedKey,a=e.selectedChords;return Object(F.jsx)(jn,{chordSetIndex:n,name:t,description:c,selectedKey:i,selectedChords:a,onMove:function(e){return r(e,n)},onRemove:function(){return o(n)}},n)})):Object(F.jsx)(bn,{onAdd:t})})},gn=function(e){var n=e.chordSets,t=e.onAddChordSet,r=e.onMoveChordSet,o=e.onRemoveChordSet;return Object(F.jsxs)(je.a,{gap:"medium",children:[Object(F.jsxs)(xe,{children:[Object(F.jsxs)(je.a,{width:"100%",children:[Object(F.jsx)(en,{children:"My chord sets"}),Object(F.jsx)(y.a,{children:"My favourite song compositions."})]}),Object(F.jsx)(Ie.a,{icon:Object(F.jsx)(Qe.a,{}),a11yTitle:"Add new chord set",onClick:t})]}),Object(F.jsx)(fn,{chordSets:n,onAddChordSet:t,onMoveChordSet:r,onRemoveChordSet:o})]})},mn=function(e){var n=e.state,t=function(e){return function(n){return Object(l.useCallback)((function(){return e(n.apply(void 0,arguments))}),[n,e])}}(e.dispatch),r=de(n),o=t(M),c=t(z),i=t(K);return Object(F.jsx)(gn,{chordSets:r,onAddChordSet:o,onMoveChordSet:c,onRemoveChordSet:i})},On=t(98),xn=[function(e){return Object(A.a)({version:1},e)},function(e){e.version;var n=Object(On.a)(e,["version"]);return{version:2,chordSets:[Object(A.a)({name:"",description:""},n)]}}],vn={version:2,chordSets:[{name:"Example: Leaving on a Jet Plane",description:"Example chordset for John Denver's Leaving on a Jet Plane",selectedChords:["G","C","D"]}]},pn=function(e){for(var n=e.version,t=null!==n&&void 0!==n?n:0;t<vn.version;t++){e=(0,xn[t])(e),console.log("Migrated from version ".concat(t," \u2192 ").concat(t+1),e)}return e},Cn=function(e,n){switch(n.type){case"setChordSetName":return Object(A.a)(Object(A.a)({},e),{},{name:n.newName});case"setChordSetDescription":return Object(A.a)(Object(A.a)({},e),{},{description:n.newDescription});case"setChordSetKey":return Object(A.a)(Object(A.a)({},e),{},{selectedKey:n.newKey});case"addChordToSet":var t=n.chordToAdd,r=e.selectedChords;return r.find((function(e){return e===t}))?e:Object(A.a)(Object(A.a)({},e),{},{selectedChords:[].concat(Object(cn.a)(r),[t])});case"moveChordInSet":var o=n.chordToMoveIndex,c=n.targetChordIndex,i=e.selectedChords;if(Math.min(o,c)<0||Math.max(o,c)>=i.length)return e;var a=Object(cn.a)(i),s=a.splice(o,1),d=Object(m.a)(s,1)[0];return a.splice(c,0,d),Object(A.a)(Object(A.a)({},e),{},{selectedChords:a});case"removeChordFromSet":var l=n.chordToRemove,u=e.selectedChords;return u.find((function(e){return e===l}))?Object(A.a)(Object(A.a)({},e),{},{selectedChords:u.filter((function(e){return e!==l}))}):e;default:return e}},Sn=function(e,n){switch(n.type){case"addChordSet":return Object(A.a)(Object(A.a)({},e),{},{chordSets:[].concat(Object(cn.a)(e.chordSets),[{name:"",description:"",selectedChords:[]}])});case"moveChordSet":var t=n.chordSetToMoveIndex,r=n.targetChordSetIndex,o=e.chordSets;if(Math.min(t,r)<0||Math.max(t,r)>=o.length)return e;var c=Object(cn.a)(o),i=c.splice(t,1),a=Object(m.a)(i,1)[0];return c.splice(r,0,a),Object(A.a)(Object(A.a)({},e),{},{chordSets:c});case"removeChordSet":var s=n.chordSetToRemoveIndex,d=e.chordSets;return d[s]?Object(A.a)(Object(A.a)({},e),{},{chordSets:d.filter((function(e,n){return n!==s}))}):e;case"setChordSetName":case"setChordSetDescription":case"setChordSetKey":case"addChordToSet":case"moveChordInSet":case"removeChordFromSet":var l=n.chordSetIndex,u=e.chordSets,h=Cn(e.chordSets[l],n);return u[l]&&h!==u[l]?Object(A.a)(Object(A.a)({},e),{},{chordSets:u.map((function(e,n){return n===l?h:e}))}):e;default:return e}},yn=t(95),kn=t(94),An="#d1ad70",Un="#87ccb0",wn=Object(kn.deepMerge)(yn.grommet,{global:{colors:{background:"#010115","background-back":{dark:"#080920"},"background-front":{dark:"#15173d"},"background-contrast":{dark:"#3f438a17"},black:"#00010d",white:"#fff9ef",brand:Un,"accent-1":An,border:{dark:"".concat(An,"80")},"border-semi":{dark:"".concat(An,"40")},"border-brand":{dark:"".concat(Un,"80")},"border-brand-semi":{dark:"".concat(Un,"40")}},font:{family:'"Josefin Sans"',face:"/* vietnamese */\n@font-face {\n  font-family: 'Josefin Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMlhLzTs.woff2) format('woff2');\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;\n}\n/* latin-ext */\n@font-face {\n  font-family: 'Josefin Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMhhLzTs.woff2) format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'Josefin Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMZhLw.woff2) format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n/* latin-ext */\n@font-face {\n  font-family: 'Limelight';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoNOlHnnY.woff2) format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'Limelight';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoOulH.woff2) format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n\n/* latin-ext */\n@font-face {\n  font-family: 'Limelight';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoNOlHnnY.woff2) format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'Limelight';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoOulH.woff2) format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n"}},heading:{font:{family:'"Limelight"'}},button:{border:{radius:"3px"}},card:{container:{border:"solid",round:"xxsmall",elevation:null}}});t(133);var Fn=function(){var e=D("applicationState",Sn,pn,vn),n=Object(m.a)(e,2),t=n[0],r=n[1];return Object(F.jsx)(O.a,{full:!0,theme:wn,themeMode:"dark",children:Object(F.jsxs)(x.a,{kind:"full",children:[Object(F.jsx)(v.a,{pad:{vertical:"medium",horizontal:"large"},background:"brand",elevation:"small",children:Object(F.jsx)(p.a,{size:"small",margin:"none",children:Object(F.jsx)(E,{to:"/",children:"Chord Helper"})})}),Object(F.jsx)(C.a,{as:"main",pad:"large",children:Object(F.jsxs)(k.c,{children:[Object(F.jsx)(k.a,{path:"/",element:Object(F.jsx)(mn,{state:t,dispatch:r})}),Object(F.jsx)(k.a,{path:"chord-sets/:chordSetId",element:Object(F.jsx)(ln,{state:t,dispatch:r})}),Object(F.jsx)(k.a,{path:"*",element:Object(F.jsx)(me,{})})]})}),Object(F.jsx)(S.a,{pad:{vertical:"small",horizontal:"large"},background:"black",justify:"center",children:Object(F.jsx)(y.a,{color:"text-xweak",children:"Helping you with chords since 2021."})})]})})},In=(t(134),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,189)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),o(e),c(e),i(e)}))});f.a.render(Object(F.jsx)(u.a.StrictMode,{children:Object(F.jsx)(g.a,{basename:"chord-helper",children:Object(F.jsx)(h.a,{backend:j.a,children:Object(F.jsx)(Fn,{})})})}),document.getElementById("root")),In()}},[[135,1,2]]]);
//# sourceMappingURL=main.aa849a6e.chunk.js.map