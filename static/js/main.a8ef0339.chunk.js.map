{"version":3,"sources":["Theory/notes.ts","Theory/chords.ts","Components/FormattedChord.tsx","Components/FormattedNote.tsx","Components/FormattedNotes.tsx","Components/ChordDefinition.tsx","Theory/chords.guitar.ts","Theory/tunings.guitar.ts","Components/StringChord.tsx","Components/ChordCard.tsx","Components/EmptyChordCard.tsx","Components/ChordCardCollection.tsx","Components/ChordSelector.tsx","Hooks/useStoringReducer.ts","Store/reducer.ts","Store/selectors.ts","theme.ts","App.tsx","Store/actions.ts","reportWebVitals.ts","index.tsx"],"names":["noteNames","notePattern","getNoteParts","note","exec","noteName","octave","Number","parseInt","transposeNoteName","Math","pow","semitoneDistance","index","indexOf","chordDefinitions","maj6","dom7","maj7","aug","aug7","min","min6","min7","chordNamePattern","getChordNameParts","chordName","ChordModifier","styled","span","theme","global","borderSize","small","FormattedChord","chord","rootNoteName","hash","chordModifier","FormattedNote","FormattedNotes","notes","map","n","i","ChordDefinition","isEditing","onRemoveChord","chordNotes","x","getChordNotes","Card","pad","horizontal","vertical","background","border","side","color","Heading","level","size","margin","Box","direction","gap","align","top","Text","Collapsible","open","Button","icon","Trash","a11yTitle","onClick","chords","guitar","type","positions","mutedStrings","tunings","guitalele","PushedFingerBox","NoteCircleText","NoteBox","isStringMuted","isActive","colors","dark","isVisible","css","disabled","isPushed","getGridArea","x1","y1","x2","y2","StringChord","instrument","highlightedNote","onHighlightNote","chordDefinition","find","c","stringPositionsParts","stringPositions","pos","fingerIndex","filter","stringIdOrInterval","fretId","Array","isArray","startStringId","endStringId","getStringPositionsParts","maxFretId","reduce","acc","max","tuning","maxStringIndex","length","strings","_","stringIndex","gridArea","isMuted","includes","frets","fill","undefined","isStart","finger","stringNote","stringId","getNoteFromParts","sign","floor","abs","transposeNote","isHighlighted","Grid","columns","rows","row","alignSelf","s","justify","textAlign","Close","ChordCard","width","CardHeader","CardBody","EmptyChordCard","Stack","interactiveChild","opacity","Add","ChordCardCollection","useState","setHighlightedNote","ChordSelector","onAddChord","onIsEditingChange","searchString","setSearchString","matchingChords","useMemo","label","value","toLowerCase","handleChange","useCallback","Select","options","valueKey","key","labelKey","closeOnChange","placeholder","searchPlaceholder","onSearch","onChange","Checkmark","Edit","primary","useStoringReducer","reducer","initialState","initializer","storingReducer","writeTimeoutRef","state","action","newState","window","clearTimeout","setTimeout","localStorage","setItem","JSON","stringify","console","log","error","createStoringReducer","readState","rawState","getItem","parse","readStoredState","useReducer","selectedChords","Error","getSelectedChords","deepMerge","grommet","black","white","brand","font","family","face","heading","button","radius","card","container","round","elevation","App","dispatch","selectors","availableChords","setIsEditing","handleAddChord","chordToAdd","handleRemoveChord","chordToRemove","Grommet","full","themeMode","Header","Main","Footer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8ef0339.chunk.js","sourcesContent":["export type NoteName =\r\n  | 'C'\r\n  | 'C#'\r\n  | 'D'\r\n  | 'D#'\r\n  | 'E'\r\n  | 'F'\r\n  | 'F#'\r\n  | 'G'\r\n  | 'G#'\r\n  | 'A'\r\n  | 'A#'\r\n  | 'B';\r\n\r\nexport type OctaveNumber = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9;\r\n\r\nexport type Note = `${NoteName}${OctaveNumber}`;\r\n\r\nconst noteNames: NoteName[] = [\r\n  'C',\r\n  'C#',\r\n  'D',\r\n  'D#',\r\n  'E',\r\n  'F',\r\n  'F#',\r\n  'G',\r\n  'G#',\r\n  'A',\r\n  'A#',\r\n  'B',\r\n];\r\n\r\n// https://en.wikipedia.org/wiki/Interval_(music)#Main_intervals\r\nexport const intervalNames: Record<number, string> = {\r\n  0: 'perfect unison',\r\n  1: 'minor second',\r\n  2: 'major second',\r\n  3: 'minor third',\r\n  4: 'major third',\r\n  5: 'perfect fourth',\r\n  6: 'augmented fourth/diminished fifth',\r\n  7: 'perfect fifth',\r\n  8: 'minor sixth',\r\n  9: 'major sixth',\r\n  10: 'minor seventh',\r\n  11: 'major seventh',\r\n  12: 'perfect octave',\r\n};\r\n\r\nconst notePattern = /^\\s*([A-G]#?)(\\d)\\s*$/;\r\n\r\nexport const getNoteParts = (note: Note): [NoteName, OctaveNumber] => {\r\n  const [_, noteName, octave] = notePattern.exec(note) ?? [];\r\n  return [noteName as NoteName, Number.parseInt(octave) as OctaveNumber];\r\n};\r\n\r\nconst getNoteFromParts = (noteName: NoteName, octave: OctaveNumber): Note =>\r\n  `${noteName}${octave}` as Note;\r\n\r\nexport const isValidNote = (noteString: string): noteString is Note =>\r\n  notePattern.test(noteString);\r\n\r\nexport const getSemitoneDistance = (note1: Note, note2: Note): number => {\r\n  const [noteName1, octave1] = getNoteParts(note1);\r\n  const [noteName2, octave2] = getNoteParts(note2);\r\n  return (\r\n    12 * (octave2 - octave1) +\r\n    (noteNames.indexOf(noteName2) - noteNames.indexOf(noteName1))\r\n  );\r\n};\r\n\r\n// https://en.wikipedia.org/wiki/A440_(pitch_standard)\r\nconst standardPitch = {\r\n  note: 'A4' as Note,\r\n  frequency: 440, // Hz\r\n  semiToneRatio: Math.pow(2, 1 / 12),\r\n};\r\n\r\nexport const getNotePitch = (note: Note): number => {\r\n  const semitoneDistanceFromStandard = getSemitoneDistance(\r\n    standardPitch.note,\r\n    note,\r\n  );\r\n  return (\r\n    standardPitch.frequency *\r\n    Math.pow(standardPitch.semiToneRatio, semitoneDistanceFromStandard)\r\n  );\r\n};\r\n\r\nexport const transposeNoteName = (\r\n  noteName: NoteName,\r\n  semitoneDistance: number,\r\n) => {\r\n  const index = noteNames.indexOf(noteName);\r\n  const transposedIndex = (index + semitoneDistance) % 12;\r\n  return noteNames[transposedIndex];\r\n};\r\n\r\nexport const transposeNote = (note: Note, semitoneDistance: number) => {\r\n  const [noteName, octave] = getNoteParts(note);\r\n  const transposedNoteName = transposeNoteName(noteName, semitoneDistance);\r\n  const octaveDistance =\r\n    Math.sign(semitoneDistance) * Math.floor(Math.abs(semitoneDistance) / 12);\r\n  return getNoteFromParts(\r\n    transposedNoteName,\r\n    (octave + octaveDistance) as OctaveNumber,\r\n  );\r\n};\r\n","import { NoteName, transposeNoteName } from './notes';\r\n\r\nexport type ChordModifier =\r\n  | ''\r\n  | 'maj6'\r\n  | 'dom7'\r\n  | 'maj7'\r\n  | 'aug'\r\n  | 'aug7'\r\n  | 'min'\r\n  | 'min6'\r\n  | 'min7'; // ...more\r\n\r\nexport type ChordName = `${NoteName}${ChordModifier}`;\r\n\r\nexport type ChordDefinition = (\r\n  | 0\r\n  | 1\r\n  | 2\r\n  | 3\r\n  | 4\r\n  | 5\r\n  | 6\r\n  | 7\r\n  | 8\r\n  | 9\r\n  | 10\r\n  | 11\r\n)[];\r\n\r\n// https://en.wikipedia.org/wiki/Chord_(music)#Examples\r\nconst chordDefinitions: Record<ChordModifier, ChordDefinition> = {\r\n  '': [0, 4, 7], // major\r\n  maj6: [0, 4, 7, 9], // major 6th\r\n  dom7: [0, 4, 7, 10], // dominant 7th\r\n  maj7: [0, 4, 7, 11], // major 7th\r\n\r\n  aug: [0, 4, 8], // augmented\r\n  aug7: [0, 4, 8, 10], //augmented 7th\r\n\r\n  min: [0, 3, 7], // minor\r\n  min6: [0, 3, 7, 9], // minor 6th\r\n  min7: [0, 3, 7, 10], // minor 7th\r\n};\r\n\r\nconst chordNamePattern = /^\\s*([A-G]#?)(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\\s*$/;\r\n\r\nconst getChordNameParts = (chordName: ChordName): [NoteName, ChordModifier] => {\r\n  const [_, rootNoteName, chordModifier] =\r\n    chordNamePattern.exec(chordName) ?? [];\r\n  return [rootNoteName as NoteName, chordModifier as ChordModifier];\r\n};\r\n\r\nconst getChordNameFromParts = (\r\n  rootNoteName: NoteName,\r\n  chordModifier: ChordModifier,\r\n): ChordName => `${rootNoteName}${chordModifier}` as ChordName;\r\n\r\nexport const isValidChordName = (\r\n  chordNameString: string,\r\n): chordNameString is ChordName => chordNamePattern.test(chordNameString);\r\n\r\nexport const getChordNotes = (chordName: ChordName): NoteName[] => {\r\n  const [rootNoteName, chordModifier] = getChordNameParts(chordName);\r\n  const chordDefinition = chordDefinitions[chordModifier];\r\n  return chordDefinition.map((x) => transposeNoteName(rootNoteName, x));\r\n};\r\n\r\nexport const transposeChord = (\r\n  chordName: ChordName,\r\n  semitoneDistance: number,\r\n): ChordName => {\r\n  const [rootNoteName, chordModifier] = getChordNameParts(chordName);\r\n  const transposedNoteName = transposeNoteName(rootNoteName, semitoneDistance);\r\n  return getChordNameFromParts(transposedNoteName, chordModifier);\r\n};\r\n","import styled from 'styled-components';\r\nimport { ChordName } from '../Theory/chords';\r\n\r\nconst chordNamePattern = /^\\s*([A-G])(#)?(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\\s*$/;\r\n\r\nconst getNoteParts = (chord: ChordName) => {\r\n  const [_, rootNoteName, hash, chordModifier] =\r\n    chordNamePattern.exec(chord) ?? [];\r\n  return [rootNoteName, hash, chordModifier];\r\n};\r\n\r\nconst ChordModifier = styled.span`\r\n  padding-left: ${({ theme }) => theme.global.borderSize.small};\r\n`;\r\n\r\nexport interface Props {\r\n  chord: ChordName | undefined;\r\n}\r\n\r\nconst FormattedChord = ({ chord }: Props) => {\r\n  const [rootNoteName, hash, chordModifier] = chord ? getNoteParts(chord) : [];\r\n  return (\r\n    <span>\r\n      {rootNoteName || <>&nbsp;</>}\r\n      <sup>{hash && '♯'}</sup>\r\n      {chordModifier && <ChordModifier>{chordModifier}</ChordModifier>}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default FormattedChord;\r\n","import { Note, NoteName } from '../Theory/notes';\r\n\r\nconst notePattern = /^\\s*([A-G])(#)?(\\d)?\\s*$/;\r\n\r\nconst getNoteParts = (note: Note | NoteName) => {\r\n  const [_, noteName, hash, octave] = notePattern.exec(note) ?? [];\r\n  return [noteName, hash, octave];\r\n};\r\n\r\nexport interface Props {\r\n  note: Note | NoteName;\r\n}\r\n\r\nconst FormattedNote = ({ note }: Props) => {\r\n  const [noteName, hash, octave] = getNoteParts(note);\r\n  return (\r\n    <span>\r\n      {noteName}\r\n      <sup>{hash && '♯'}</sup>\r\n      {octave && <sub>{octave}</sub>}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default FormattedNote;\r\n","import { Fragment } from 'react';\r\nimport { Note, NoteName } from '../Theory/notes';\r\nimport FormattedNote from './FormattedNote';\r\n\r\nexport interface Props {\r\n  notes: (Note | NoteName)[];\r\n}\r\n\r\nconst FormattedNotes = ({ notes }: Props) => (\r\n  <>\r\n    {notes.map((n, i) => (\r\n      <Fragment key={n}>\r\n        {i !== 0 && ' '}\r\n        <FormattedNote note={n} />\r\n      </Fragment>\r\n    ))}\r\n  </>\r\n);\r\n\r\nexport default FormattedNotes;\r\n","import { Box, Button, Card, Collapsible, Heading, Text } from 'grommet';\r\nimport { Trash } from 'grommet-icons';\r\nimport { ChordName, getChordNotes } from '../Theory/chords';\r\nimport FormattedChord from './FormattedChord';\r\nimport FormattedNotes from './FormattedNotes';\r\n\r\nexport interface Props {\r\n  chord: ChordName | undefined;\r\n  isEditing: boolean;\r\n  onRemoveChord: (() => void) | undefined;\r\n}\r\n\r\nconst ChordDefinition = ({ chord, isEditing, onRemoveChord }: Props) => {\r\n  const chordNotes = chord ? getChordNotes(chord) : [];\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        pad={{ horizontal: 'medium', vertical: 'small' }}\r\n        background=\"background-front\"\r\n        border={{ side: 'right', color: 'background-contrast' }}\r\n      >\r\n        <Heading level={2} size=\"small\" color=\"accent-1\" margin=\"none\">\r\n          <FormattedChord chord={chord} />\r\n        </Heading>\r\n      </Card>\r\n      <Box\r\n        direction=\"row\"\r\n        pad={{ horizontal: 'small' }}\r\n        gap=\"small\"\r\n        align=\"center\"\r\n      >\r\n        <Box pad={{ top: 'xsmall' }}>\r\n          <Text>\r\n            <FormattedNotes notes={chordNotes} />\r\n          </Text>\r\n        </Box>\r\n        <Collapsible open={isEditing} direction=\"horizontal\">\r\n          <Button\r\n            icon={<Trash />}\r\n            a11yTitle={`Remove chord ${chord}`}\r\n            onClick={onRemoveChord}\r\n          />\r\n        </Collapsible>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChordDefinition;\r\n","import { ChordName } from './chords';\r\nimport { InstrumentName } from './tunings.guitar';\r\n\r\nexport type ChordType = 'simple' | 'barre';\r\n\r\n/**\r\n * 1 = lowest string, 6 = highest string.\r\n */\r\nexport type StringId = 1 | 2 | 3 | 4 | 5 | 6;\r\n\r\ntype StringInterval = [\r\n  /** From string (inclusive) */\r\n  StringId,\r\n  /** To string (inclusive) */\r\n  StringId,\r\n];\r\n\r\nexport type FretId =\r\n  | 1\r\n  | 2\r\n  | 3\r\n  | 4\r\n  | 5\r\n  | 6\r\n  | 7\r\n  | 8\r\n  | 9\r\n  | 10\r\n  | 11\r\n  | 12\r\n  | 13\r\n  | 14\r\n  | 15\r\n  | 16\r\n  | 17\r\n  | 18\r\n  | 19;\r\n\r\ntype StringPosition = [StringId | StringInterval, FretId];\r\n\r\n/**\r\n * String and fret position (or null for unused), per finger (index -> pinky).\r\n */\r\ntype StringPositions = [\r\n  /** Index finger */\r\n  StringPosition | null,\r\n  /** Middle finger */\r\n  StringPosition | null,\r\n  /** Ring finger */\r\n  StringPosition | null,\r\n  /** Pinky finger */\r\n  StringPosition | null,\r\n];\r\n\r\nexport interface ChordDefinition {\r\n  chord: ChordName;\r\n  type: ChordType;\r\n  positions: StringPositions;\r\n  mutedStrings: StringId[];\r\n}\r\n\r\nconst chords: Partial<Record<InstrumentName, ChordDefinition[]>> = {\r\n  guitar: [\r\n    {\r\n      chord: 'C',\r\n      type: 'simple',\r\n      positions: [[5, 1], [3, 2], [2, 3], null],\r\n      mutedStrings: [1],\r\n    },\r\n    // { chord: 'Cmin', type: '', positions: [], mutedStrings: [] },\r\n    {\r\n      chord: 'D',\r\n      type: 'simple',\r\n      positions: [[4, 2], [6, 2], [5, 3], null],\r\n      mutedStrings: [1, 2],\r\n    },\r\n    {\r\n      chord: 'Dmin',\r\n      type: 'simple',\r\n      positions: [[6, 1], [4, 2], [5, 3], null],\r\n      mutedStrings: [1, 2],\r\n    },\r\n    {\r\n      chord: 'E',\r\n      type: 'simple',\r\n      positions: [[4, 1], [2, 2], [3, 2], null],\r\n      mutedStrings: [],\r\n    },\r\n    {\r\n      chord: 'Emin',\r\n      type: 'simple',\r\n      positions: [null, [2, 2], [3, 2], null],\r\n      mutedStrings: [],\r\n    },\r\n    {\r\n      chord: 'F',\r\n      type: 'barre',\r\n      positions: [\r\n        [[1, 6], 1],\r\n        [4, 2],\r\n        [2, 3],\r\n        [3, 3],\r\n      ],\r\n      mutedStrings: [],\r\n    },\r\n    // { chord: 'Fmin', type: '', positions: [], mutedStrings: [] },\r\n    {\r\n      chord: 'G',\r\n      type: 'simple',\r\n      positions: [[2, 2], [1, 3], [6, 3], null],\r\n      mutedStrings: [],\r\n    },\r\n    // { chord: 'Gmin', type: '', positions: [], mutedStrings: [] },\r\n    {\r\n      chord: 'A',\r\n      type: 'simple',\r\n      positions: [[3, 2], [4, 2], [5, 2], null],\r\n      mutedStrings: [1],\r\n    },\r\n    {\r\n      chord: 'Amin',\r\n      type: 'simple',\r\n      positions: [[5, 1], [3, 2], [4, 2], null],\r\n      mutedStrings: [1],\r\n    },\r\n    {\r\n      chord: 'B',\r\n      type: 'barre',\r\n      positions: [\r\n        [[2, 6], 2],\r\n        [3, 4],\r\n        [4, 4],\r\n        [5, 4],\r\n      ],\r\n      mutedStrings: [1],\r\n    },\r\n    // { chord: 'Bmin', type: '', positions: [], mutedStrings: [] },\r\n  ],\r\n};\r\n\r\nexport const getStringPositionsParts = (stringPositions: StringPositions) =>\r\n  stringPositions\r\n    .map((pos, fingerIndex) => ({ pos, fingerIndex }))\r\n    .filter(\r\n      (x): x is { pos: StringPosition; fingerIndex: number } => x.pos != null,\r\n    )\r\n    .map(({ pos, fingerIndex }) => {\r\n      const [stringIdOrInterval, fretId] = pos;\r\n      const [startStringId, endStringId] = Array.isArray(stringIdOrInterval)\r\n        ? stringIdOrInterval\r\n        : [stringIdOrInterval, stringIdOrInterval];\r\n\r\n      return {\r\n        startStringId,\r\n        endStringId,\r\n        fretId,\r\n        fingerIndex,\r\n      };\r\n    });\r\n\r\nexport default chords;\r\n","import { Note } from './notes';\r\n\r\nexport type InstrumentName = 'guitar' | 'guitalele';\r\n\r\nexport type Tuning = Note[];\r\n\r\nconst tunings: Record<InstrumentName, Tuning> = {\r\n  guitar: ['E2', 'A2', 'D3', 'G3', 'B3', 'E4'],\r\n  guitalele: ['A2', 'D3', 'G3', 'C4', 'E4', 'A4'],\r\n};\r\n\r\nexport default tunings;\r\n","import { Box, Grid, Text } from 'grommet';\r\nimport { Close } from 'grommet-icons';\r\nimport styled, { css } from 'styled-components';\r\nimport { ChordName } from '../Theory/chords';\r\nimport chords, {\r\n  FretId,\r\n  getStringPositionsParts,\r\n  StringId,\r\n} from '../Theory/chords.guitar';\r\nimport { getNoteParts, NoteName, transposeNote } from '../Theory/notes';\r\nimport tunings, { InstrumentName } from '../Theory/tunings.guitar';\r\nimport FormattedNote from './FormattedNote';\r\n\r\nconst PushedFingerBox = styled(Box)`\r\n  width: 36px;\r\n  height: calc(100% - 12px);\r\n  justify-self: center;\r\n  border-radius: 18px;\r\n`;\r\n\r\nconst NoteCircleText = styled(Text)`\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 18px;\r\n  text-align: center;\r\n`;\r\n\r\nconst NoteBox = styled(Box)<{\r\n  disabled: boolean;\r\n  isStringMuted: boolean;\r\n  isVisible: boolean;\r\n  isActive: boolean;\r\n  isPushed: boolean;\r\n}>`\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  color: ${({ isStringMuted, isActive, theme }) =>\r\n    isStringMuted\r\n      ? theme.global.colors['text-xweak'].dark\r\n      : isActive\r\n      ? theme.global.colors['text'].dark\r\n      : theme.global.colors['text-weak'].dark};\r\n\r\n  font-weight: ${({ isActive }) => (isActive ? 'bold' : 'normal')};\r\n\r\n  ${NoteCircleText} {\r\n    display: ${({ isVisible }) => (isVisible ? 'inline-block' : 'none')};\r\n  }\r\n\r\n  ${({ isVisible }) =>\r\n    isVisible &&\r\n    css`\r\n      & > :nth-child(2) {\r\n        display: none;\r\n      }\r\n    `}\r\n\r\n  ${({ disabled, isPushed, theme }) =>\r\n    !disabled &&\r\n    css`\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        ${NoteCircleText} {\r\n          display: inline-block;\r\n\r\n          background: ${isPushed\r\n            ? theme.global.colors['accent-1']\r\n            : theme.global.colors['background-contrast'].dark};\r\n\r\n          font-weight: bold;\r\n        }\r\n\r\n        & > :nth-child(2) {\r\n          display: none;\r\n        }\r\n      }\r\n    `}\r\n`;\r\n\r\n/**\r\n * All parameters are zero-based, inclusive.\r\n *\r\n * @param x1 Start column (zero-based, inclusive)\r\n * @param y1 Start row (zero-based, inclusive)\r\n * @param x2 Optional end column (zero-based, inclusive), defaults to `x1`\r\n * @param y2 Optional end row (zero-based, inclusive), defaults to `y1`\r\n */\r\nconst getGridArea = (x1: number, y1: number, x2?: number, y2?: number) =>\r\n  `${y1 + 1}/${x1 + 1} / ${(y2 ?? y1) + 1 + 1}/${(x2 ?? x1) + 1 + 1}`;\r\n\r\nexport interface Props {\r\n  instrument?: InstrumentName;\r\n  chord: ChordName | undefined;\r\n  disabled: boolean;\r\n  highlightedNote: NoteName | undefined;\r\n  onHighlightNote: ((noteToSelect: NoteName | undefined) => void) | undefined;\r\n}\r\n\r\nconst StringChord = ({\r\n  instrument = 'guitar',\r\n  chord,\r\n  disabled,\r\n  highlightedNote,\r\n  onHighlightNote,\r\n}: Props) => {\r\n  const chordsForInstrument = chords[instrument] || [];\r\n  const chordDefinition =\r\n    chord && chordsForInstrument.find((c) => c.chord === chord);\r\n\r\n  const stringPositions = chordDefinition?.positions ?? [\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n  ];\r\n  const stringPositionsParts = getStringPositionsParts(stringPositions);\r\n  const mutedStrings = chordDefinition?.mutedStrings ?? [];\r\n\r\n  const maxFretId = (stringPositionsParts.reduce(\r\n    (acc, { fretId }) => Math.max(acc, fretId),\r\n    4,\r\n  ) + 1) as FretId;\r\n\r\n  const tuning = tunings[instrument] ?? [null, null, null, null, null, null];\r\n  const maxStringIndex = tuning.length - 1;\r\n\r\n  const strings = tuning.map((_, stringIndex) => ({\r\n    gridArea: getGridArea(\r\n      1,\r\n      maxStringIndex - stringIndex,\r\n      maxFretId,\r\n      maxStringIndex - stringIndex,\r\n    ),\r\n    isMuted: mutedStrings.includes((stringIndex + 1) as StringId),\r\n  }));\r\n\r\n  const frets = new Array(maxFretId).fill(undefined).map((_, fretId) => ({\r\n    gridArea: getGridArea(fretId, 0, fretId, maxStringIndex),\r\n    isStart: fretId === 0,\r\n  }));\r\n\r\n  const positions = stringPositionsParts.map(\r\n    ({ startStringId, endStringId, fretId, fingerIndex }) => ({\r\n      gridArea: getGridArea(\r\n        fretId,\r\n        maxStringIndex - (endStringId - 1),\r\n        fretId,\r\n        maxStringIndex - (startStringId - 1),\r\n      ),\r\n      finger: fingerIndex + 1,\r\n    }),\r\n  );\r\n\r\n  const notes = tuning.map((stringNote, stringIndex) => {\r\n    const stringId = (stringIndex + 1) as StringId;\r\n    const isStringMuted = mutedStrings.includes(stringId);\r\n\r\n    return new Array(maxFretId).fill(undefined).map((_, i) => {\r\n      const isActive = !!stringPositionsParts.find(\r\n        ({ startStringId, endStringId, fretId }) =>\r\n          stringId >= startStringId && stringId <= endStringId && i === fretId,\r\n      );\r\n      const note = transposeNote(stringNote, i);\r\n      const [noteName] = getNoteParts(note);\r\n\r\n      return {\r\n        gridArea: getGridArea(i, maxStringIndex - stringIndex),\r\n        isStringMuted,\r\n        isVisible: isActive || i === 0,\r\n        isActive: isActive,\r\n        isPushed: isActive && i !== 0,\r\n        isHighlighted: !disabled && highlightedNote === noteName,\r\n        note,\r\n        noteName,\r\n      };\r\n    });\r\n  });\r\n\r\n  return (\r\n    <Grid\r\n      columns={Array(maxFretId).fill('1fr')}\r\n      rows={Array(maxStringIndex + 1).fill('xxsmall')}\r\n      gap={{ row: 'xxsmall' }}\r\n    >\r\n      {strings.map(({ gridArea, isMuted }) => (\r\n        <Box\r\n          gridArea={gridArea}\r\n          background={!isMuted ? 'background-contrast' : undefined}\r\n          border={[\r\n            {\r\n              side: 'bottom',\r\n              color: 'background-contrast',\r\n              size: 'small',\r\n            },\r\n          ]}\r\n        />\r\n      ))}\r\n\r\n      {frets.map(({ gridArea, isStart }) => (\r\n        <Box\r\n          gridArea={gridArea}\r\n          border={{\r\n            side: 'right',\r\n            color: 'text',\r\n            size: isStart ? 'small' : 'xsmall',\r\n          }}\r\n        />\r\n      ))}\r\n\r\n      {positions.map(({ gridArea, finger }) => (\r\n        <PushedFingerBox\r\n          gridArea={gridArea}\r\n          alignSelf=\"center\"\r\n          background={{ dark: 'border' }}\r\n        />\r\n      ))}\r\n\r\n      {notes.map((s) =>\r\n        s.map(\r\n          ({\r\n            isStringMuted,\r\n            isVisible,\r\n            isActive,\r\n            isPushed,\r\n            isHighlighted,\r\n            note,\r\n            noteName,\r\n            gridArea,\r\n          }) => (\r\n            <NoteBox\r\n              gridArea={gridArea}\r\n              align=\"center\"\r\n              justify=\"center\"\r\n              disabled={disabled}\r\n              isStringMuted={isStringMuted}\r\n              isVisible={isVisible || isHighlighted}\r\n              isActive={isActive || isHighlighted}\r\n              isPushed={isPushed}\r\n              onClick={\r\n                !disabled && onHighlightNote\r\n                  ? () => onHighlightNote(isHighlighted ? undefined : noteName)\r\n                  : undefined\r\n              }\r\n            >\r\n              <NoteCircleText textAlign=\"center\">\r\n                <FormattedNote note={note} />\r\n              </NoteCircleText>\r\n              {isStringMuted && <Close size=\"small\" />}\r\n            </NoteBox>\r\n          ),\r\n        ),\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default StringChord;\r\n","import { Card, CardBody, CardHeader } from 'grommet';\r\nimport { ChordName } from '../Theory/chords';\r\nimport { NoteName } from '../Theory/notes';\r\nimport ChordDefinition from './ChordDefinition';\r\nimport StringChord from './StringChord';\r\n\r\nexport interface Props {\r\n  chord?: ChordName;\r\n  isEditing?: boolean;\r\n  highlightedNote?: NoteName;\r\n  onRemoveChord?: (chordToRemove: ChordName) => void;\r\n  onHighlightNote?: (noteToSelect: NoteName | undefined) => void;\r\n}\r\n\r\nconst ChordCard = ({\r\n  chord,\r\n  isEditing,\r\n  highlightedNote,\r\n  onRemoveChord,\r\n  onHighlightNote,\r\n}: Props) => (\r\n  <Card background=\"background-back\" width=\"500px\">\r\n    <CardHeader\r\n      background=\"background-contrast\"\r\n      border={{ side: 'bottom', color: 'background-contrast' }}\r\n      justify=\"between\"\r\n    >\r\n      <ChordDefinition\r\n        chord={chord}\r\n        isEditing={isEditing || false}\r\n        onRemoveChord={chord && onRemoveChord && (() => onRemoveChord(chord))}\r\n      />\r\n    </CardHeader>\r\n    <CardBody\r\n      pad=\"small\"\r\n      border={{ side: 'top', color: 'background-contrast' }}\r\n    >\r\n      <StringChord\r\n        chord={chord}\r\n        disabled={isEditing || false}\r\n        highlightedNote={highlightedNote}\r\n        onHighlightNote={onHighlightNote}\r\n      />\r\n    </CardBody>\r\n  </Card>\r\n);\r\n\r\nexport default ChordCard;\r\n","import { Box, Stack, Text } from 'grommet';\r\nimport { Add } from 'grommet-icons';\r\nimport ChordCard from './ChordCard';\r\n\r\nconst EmptyChordCard = () => (\r\n  <Stack fill interactiveChild=\"last\">\r\n    <ChordCard />\r\n    <Box\r\n      fill\r\n      align=\"center\"\r\n      justify=\"center\"\r\n      gap=\"large\"\r\n      background={{ color: 'background', opacity: 'strong' }}\r\n      border={{ color: 'border-semi' }}\r\n    >\r\n      <Add size=\"large\" color=\"accent-1\" />\r\n      <Text size=\"large\" textAlign=\"center\" color=\"accent-1\">\r\n        Add a chord to start\r\n      </Text>\r\n    </Box>\r\n  </Stack>\r\n);\r\n\r\nexport default EmptyChordCard;\r\n","import { Grid } from 'grommet';\r\nimport { useState } from 'react';\r\nimport { ChordName } from '../Theory/chords';\r\nimport { NoteName } from '../Theory/notes';\r\nimport ChordCard from './ChordCard';\r\nimport EmptyChordCard from './EmptyChordCard';\r\n\r\nexport interface Props {\r\n  chords: ChordName[];\r\n  isEditing: boolean;\r\n  onRemoveChord: (chordToRemove: ChordName) => void;\r\n}\r\n\r\nconst ChordCardCollection = ({ chords, isEditing, onRemoveChord }: Props) => {\r\n  const [highlightedNote, setHighlightedNote] = useState<NoteName>();\r\n\r\n  return (\r\n    <Grid columns=\"medium\" gap=\"small\" justify=\"center\">\r\n      {chords.length !== 0 ? (\r\n        chords.map((c) => (\r\n          <ChordCard\r\n            key={c}\r\n            chord={c}\r\n            isEditing={isEditing}\r\n            highlightedNote={highlightedNote}\r\n            onRemoveChord={onRemoveChord}\r\n            onHighlightNote={setHighlightedNote}\r\n          />\r\n        ))\r\n      ) : (\r\n        <EmptyChordCard />\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default ChordCardCollection;\r\n","import { Box, Button, Collapsible, Select } from 'grommet';\r\nimport { Add, Checkmark, Edit } from 'grommet-icons';\r\nimport { useCallback, useMemo, useState } from 'react';\r\nimport { ChordName } from '../Theory/chords';\r\n\r\nexport interface Props {\r\n  chords: ChordName[];\r\n  isEditing: boolean;\r\n  onAddChord: (chordToAdd: ChordName) => void;\r\n  onIsEditingChange: (isEditing: boolean) => void;\r\n}\r\n\r\nconst ChordSelector = ({\r\n  chords,\r\n  isEditing,\r\n  onAddChord,\r\n  onIsEditingChange,\r\n}: Props) => {\r\n  const [searchString, setSearchString] = useState('');\r\n\r\n  const matchingChords = useMemo(\r\n    () =>\r\n      chords\r\n        .map((c) => ({ label: c, value: c }))\r\n        .filter((x) =>\r\n          x.label.toLowerCase().includes(searchString.toLowerCase()),\r\n        ),\r\n    [chords, searchString],\r\n  );\r\n\r\n  const handleChange = useCallback(\r\n    ({ value }) => {\r\n      setSearchString('');\r\n      onAddChord(value as ChordName);\r\n    },\r\n    [onAddChord],\r\n  );\r\n\r\n  return (\r\n    <Box direction=\"row\" gap=\"small\" justify=\"end\" align=\"center\">\r\n      <Collapsible open={isEditing} direction=\"horizontal\">\r\n        <Select\r\n          icon={<Add />}\r\n          options={matchingChords}\r\n          valueKey={{ key: 'value', reduce: true }}\r\n          labelKey={(c) => c.label}\r\n          closeOnChange={false}\r\n          placeholder=\"Add chords\"\r\n          searchPlaceholder=\"Search by name\"\r\n          a11yTitle=\"Select chords to add\"\r\n          onSearch={setSearchString}\r\n          onChange={handleChange}\r\n        />\r\n      </Collapsible>\r\n      <Button\r\n        icon={\r\n          <Box direction=\"row\">\r\n            <Collapsible open={isEditing} direction=\"horizontal\">\r\n              <Checkmark />\r\n            </Collapsible>\r\n            <Collapsible open={!isEditing} direction=\"horizontal\">\r\n              <Edit />\r\n            </Collapsible>\r\n          </Box>\r\n        }\r\n        a11yTitle={\r\n          isEditing ? 'Done adding/removing chords' : 'Add/remove chords'\r\n        }\r\n        primary={isEditing}\r\n        onClick={() => onIsEditingChange(!isEditing)}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ChordSelector;\r\n","import {\r\n  Dispatch,\r\n  Reducer,\r\n  ReducerAction,\r\n  ReducerState,\r\n  useMemo,\r\n  useReducer,\r\n} from 'react';\r\n\r\nconst createStoringReducer = <S, A>(\r\n  key: string,\r\n  reducer: Reducer<S, A>,\r\n): Reducer<S, A> => {\r\n  let writeTimeoutRef: number | undefined;\r\n\r\n  const storingReducer: Reducer<S, A> = (state, action) => {\r\n    const newState = reducer(state, action);\r\n\r\n    if (newState !== state) {\r\n      window.clearTimeout(writeTimeoutRef);\r\n\r\n      writeTimeoutRef = window.setTimeout(() => {\r\n        try {\r\n          localStorage.setItem(key, JSON.stringify(newState));\r\n          console.log('Written to local storage', newState);\r\n        } catch (error) {\r\n          // TODO\r\n          console.error(\"Couldn't write to local storage.\", error);\r\n        }\r\n      }, 100);\r\n    }\r\n\r\n    return newState;\r\n  };\r\n\r\n  return storingReducer;\r\n};\r\n\r\nconst readStoredState = <S, _>(key: string, initialState: S): S | undefined => {\r\n  try {\r\n    const rawState = localStorage.getItem(key);\r\n    const readState = rawState && JSON.parse(rawState);\r\n    console.log('Read from local storage', readState);\r\n    return readState;\r\n  } catch (error) {\r\n    // TODO\r\n    console.error(\"Couldn't read from local storage.\", error);\r\n  }\r\n};\r\n\r\nconst useStoringReducer = <R extends Reducer<any, any>>(\r\n  key: string,\r\n  reducer: R,\r\n  initialState: ReducerState<R>,\r\n  initializer?: undefined,\r\n): [ReducerState<R>, Dispatch<ReducerAction<R>>] => {\r\n  const storingReducer = useMemo(() => createStoringReducer(key, reducer), [\r\n    key,\r\n    reducer,\r\n  ]);\r\n  const readState = useMemo(() => readStoredState(key, initialState), [\r\n    key,\r\n    initialState,\r\n  ]);\r\n\r\n  return useReducer(\r\n    storingReducer,\r\n    readState ?? initialState,\r\n    readState ? undefined : initializer,\r\n  );\r\n};\r\n\r\nexport default useStoringReducer;\r\n","import type { Reducer } from 'react';\r\nimport type { ChordName } from '../Theory/chords';\r\nimport { Action } from './actions';\r\n\r\nexport interface State {\r\n  selectedChords: ChordName[];\r\n}\r\n\r\nexport const initialState: State = {\r\n  selectedChords: ['D'],\r\n};\r\n\r\nconst reducer: Reducer<State, Action> = (state, action) => {\r\n  switch (action.type) {\r\n    case 'addChord':\r\n      return !state.selectedChords.find((c) => c === action.chord)\r\n        ? {\r\n            ...state,\r\n            selectedChords: [...state.selectedChords, action.chord],\r\n          }\r\n        : state;\r\n\r\n    case 'removeChord':\r\n      return state.selectedChords.find((c) => c === action.chord)\r\n        ? {\r\n            ...state,\r\n            selectedChords: [\r\n              ...state.selectedChords.filter((c) => c !== action.chord),\r\n            ],\r\n          }\r\n        : state;\r\n\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import chords from '../Theory/chords.guitar';\r\nimport type { State } from './reducer';\r\n\r\nexport const getSelectedChords = (state: State) => state.selectedChords;\r\n\r\nexport const getAvailableChords = (state: State) => {\r\n  const selectedChords = getSelectedChords(state);\r\n  const chordsForInstrument = chords['guitar'] ?? [];\r\n  return chordsForInstrument\r\n    .map((c) => c.chord)\r\n    .filter((c) => selectedChords.indexOf(c) < 0);\r\n};\r\n","import { grommet } from 'grommet/themes';\r\nimport { deepMerge } from 'grommet/utils';\r\n\r\n// https://www.shutterstock.com/blog/art-deco-graphic-design-techniques\r\nconst goldColor = '#d1ad70'; // gold\r\nconst aquamarineColor = '#87ccb0'; // aquamarine\r\nconst turquoiseColor = '#91d4cf'; // light turquoise\r\nconst navyBlueColorColor = '#15173d'; // navy blue\r\n\r\nconst theme = deepMerge(grommet, {\r\n  global: {\r\n    colors: {\r\n      background: '#010115', // x-darker navy blue\r\n      'background-back': {\r\n        dark: '#080920', // darker navy blue\r\n        // light: '#EDEDED',\r\n      },\r\n      'background-front': {\r\n        dark: navyBlueColorColor,\r\n        // light: '#FFFFFF',\r\n      },\r\n      'background-contrast': {\r\n        dark: '#3f438a17',\r\n        // light: '#33333310',\r\n      },\r\n\r\n      black: '#00010d', // almost black navy blue\r\n      white: '#fff9ef', // almost white gold\r\n\r\n      brand: aquamarineColor,\r\n      'accent-1': goldColor,\r\n\r\n      border: {\r\n        dark: '#d1ad7080', // semitransparent gold\r\n        // light: '#d1ad7080',\r\n      },\r\n\r\n      'border-semi': {\r\n        dark: '#d1ad7040', // semi-semitransparent gold\r\n        // light: '#d1ad7080',\r\n      },\r\n    },\r\n\r\n    font: {\r\n      family: '\"Josefin Sans\"',\r\n      face:\r\n        \"/* vietnamese */\\n@font-face {\\n  font-family: 'Josefin Sans';\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMlhLzTs.woff2) format('woff2');\\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;\\n}\\n/* latin-ext */\\n@font-face {\\n  font-family: 'Josefin Sans';\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMhhLzTs.woff2) format('woff2');\\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\\n}\\n/* latin */\\n@font-face {\\n  font-family: 'Josefin Sans';\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMZhLw.woff2) format('woff2');\\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\\n}\\n\" +\r\n        \"/* latin-ext */\\n@font-face {\\n  font-family: 'Limelight';\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoNOlHnnY.woff2) format('woff2');\\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\\n}\\n/* latin */\\n@font-face {\\n  font-family: 'Limelight';\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoOulH.woff2) format('woff2');\\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\\n}\\n\\n/* latin-ext */\\n@font-face {\\n  font-family: 'Limelight';\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoNOlHnnY.woff2) format('woff2');\\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\\n}\\n/* latin */\\n@font-face {\\n  font-family: 'Limelight';\\n  font-style: normal;\\n  font-weight: 400;\\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoOulH.woff2) format('woff2');\\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\\n}\\n\",\r\n    },\r\n  },\r\n\r\n  heading: {\r\n    font: {\r\n      family: '\"Limelight\"',\r\n    },\r\n  },\r\n\r\n  button: {\r\n    border: {\r\n      radius: '3px',\r\n    },\r\n  },\r\n\r\n  card: {\r\n    container: {\r\n      border: 'solid',\r\n      round: 'xxsmall',\r\n      elevation: null,\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","import { Footer, Grommet, Header, Heading, Main, Text } from 'grommet';\r\nimport React, { useCallback, useState } from 'react';\r\nimport './App.css';\r\nimport ChordCardCollection from './Components/ChordCardCollection';\r\nimport ChordSelector from './Components/ChordSelector';\r\nimport useStoringReducer from './Hooks/useStoringReducer';\r\nimport * as actions from './Store/actions';\r\nimport reducer, { initialState } from './Store/reducer';\r\nimport * as selectors from './Store/selectors';\r\nimport theme from './theme';\r\n\r\nconst applicationStateStorageKey = 'applicationState';\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useStoringReducer(\r\n    applicationStateStorageKey,\r\n    reducer,\r\n    initialState,\r\n  );\r\n\r\n  const selectedChords = selectors.getSelectedChords(state);\r\n  const availableChords = selectors.getAvailableChords(state);\r\n\r\n  // Start in edit mode if no chords selected\r\n  const [isEditing, setIsEditing] = useState(selectedChords.length === 0);\r\n\r\n  const handleAddChord = useCallback(\r\n    (chordToAdd) => dispatch(actions.addChord(chordToAdd)),\r\n    [dispatch],\r\n  );\r\n\r\n  const handleRemoveChord = useCallback(\r\n    (chordToRemove) => dispatch(actions.removeChord(chordToRemove)),\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <Grommet full theme={theme} themeMode=\"dark\">\r\n      <Header\r\n        pad={{ vertical: 'medium', horizontal: 'large' }}\r\n        background=\"brand\"\r\n      >\r\n        <Heading size=\"small\" margin=\"none\">\r\n          Chord Helper\r\n        </Heading>\r\n      </Header>\r\n      <Main pad=\"large\" gap=\"medium\">\r\n        <ChordSelector\r\n          chords={availableChords}\r\n          isEditing={isEditing}\r\n          onAddChord={handleAddChord}\r\n          onIsEditingChange={setIsEditing}\r\n        />\r\n        <ChordCardCollection\r\n          chords={selectedChords}\r\n          isEditing={isEditing}\r\n          onRemoveChord={handleRemoveChord}\r\n        />\r\n      </Main>\r\n      <Footer\r\n        pad={{ vertical: 'small', horizontal: 'large' }}\r\n        background=\"black\"\r\n        justify=\"center\"\r\n      >\r\n        <Text color=\"text-xweak\">Helping you with chords since 2021.</Text>\r\n      </Footer>\r\n    </Grommet>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import type { ChordName } from '../Theory/chords';\r\n\r\nexport interface AddChordAction {\r\n  type: 'addChord';\r\n  chord: ChordName;\r\n}\r\n\r\nexport const addChord = (chord: ChordName): AddChordAction => ({\r\n  type: 'addChord',\r\n  chord,\r\n});\r\n\r\nexport interface RemoveChordAction {\r\n  type: 'removeChord';\r\n  chord: ChordName;\r\n}\r\n\r\nexport const removeChord = (chord: ChordName): RemoveChordAction => ({\r\n  type: 'removeChord',\r\n  chord,\r\n});\r\n\r\nexport type Action = AddChordAction | RemoveChordAction;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}