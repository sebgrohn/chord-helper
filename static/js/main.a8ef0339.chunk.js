(this["webpackJsonpchord-helper"]=this["webpackJsonpchord-helper"]||[]).push([[0],{68:function(n,e,t){},69:function(n,e,t){},88:function(n,e,t){"use strict";t.r(e);var r,o,i,c,a,l,s=t(0),d=t.n(s),u=t(25),f=t.n(u),h=(t(68),t(5)),g=t(117),b=t(89),j=t(118),m=t(112),p=t(113),O=t(119),x=(t(69),t(120)),v=t(97),U=t(107),A=t(108),C=t(15),F=t(102),y=t(116),w=t(105),k=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],S=/^\s*([A-G]#?)(\d)\s*$/,E=function(n){var e,t=null!==(e=S.exec(n))&&void 0!==e?e:[],r=Object(h.a)(t,3),o=(r[0],r[1]),i=r[2];return[o,Number.parseInt(i)]},D=(Math.pow(2,1/12),function(n,e){var t=k.indexOf(n);return k[(t+e)%12]}),I={"":[0,4,7],maj6:[0,4,7,9],dom7:[0,4,7,10],maj7:[0,4,7,11],aug:[0,4,8],aug7:[0,4,8,10],min:[0,3,7],min6:[0,3,7,9],min7:[0,3,7,10]},L=/^\s*([A-G]#?)(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\s*$/,M=function(n){var e,t=null!==(e=L.exec(n))&&void 0!==e?e:[],r=Object(h.a)(t,3);r[0];return[r[1],r[2]]},B=t(11),J=t(1),z=t(2),N=/^\s*([A-G])(#)?(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\s*$/,H=J.default.span(r||(r=Object(B.a)(["\n  padding-left: ",";\n"])),(function(n){return n.theme.global.borderSize.small})),V=function(n){var e=n.chord,t=e?function(n){var e,t=null!==(e=N.exec(n))&&void 0!==e?e:[],r=Object(h.a)(t,4);return r[0],[r[1],r[2],r[3]]}(e):[],r=Object(h.a)(t,3),o=r[0],i=r[1],c=r[2];return Object(z.jsxs)("span",{children:[o||Object(z.jsx)(z.Fragment,{children:"\xa0"}),Object(z.jsx)("sup",{children:i&&"\u266f"}),c&&Object(z.jsx)(H,{children:c})]})},G=/^\s*([A-G])(#)?(\d)?\s*$/,Z=function(n){var e=function(n){var e,t=null!==(e=G.exec(n))&&void 0!==e?e:[],r=Object(h.a)(t,4);return r[0],[r[1],r[2],r[3]]}(n.note),t=Object(h.a)(e,3),r=t[0],o=t[1],i=t[2];return Object(z.jsxs)("span",{children:[r,Object(z.jsx)("sup",{children:o&&"\u266f"}),i&&Object(z.jsx)("sub",{children:i})]})},P=function(n){var e=n.notes;return Object(z.jsx)(z.Fragment,{children:e.map((function(n,e){return Object(z.jsxs)(s.Fragment,{children:[0!==e&&" ",Object(z.jsx)(Z,{note:n})]},n)}))})},Q=function(n){var e=n.chord,t=n.isEditing,r=n.onRemoveChord,o=e?function(n){var e=M(n),t=Object(h.a)(e,2),r=t[0],o=t[1];return I[o].map((function(n){return D(r,n)}))}(e):[];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(v.a,{pad:{horizontal:"medium",vertical:"small"},background:"background-front",border:{side:"right",color:"background-contrast"},children:Object(z.jsx)(j.a,{level:2,size:"small",color:"accent-1",margin:"none",children:Object(z.jsx)(V,{chord:e})})}),Object(z.jsxs)(C.a,{direction:"row",pad:{horizontal:"small"},gap:"small",align:"center",children:[Object(z.jsx)(C.a,{pad:{top:"xsmall"},children:Object(z.jsx)(O.a,{children:Object(z.jsx)(P,{notes:o})})}),Object(z.jsx)(F.a,{open:t,direction:"horizontal",children:Object(z.jsx)(y.a,{icon:Object(z.jsx)(w.a,{}),a11yTitle:"Remove chord ".concat(e),onClick:r})})]})]})},R=t(106),T={guitar:[{chord:"C",type:"simple",positions:[[5,1],[3,2],[2,3],null],mutedStrings:[1]},{chord:"D",type:"simple",positions:[[4,2],[6,2],[5,3],null],mutedStrings:[1,2]},{chord:"Dmin",type:"simple",positions:[[6,1],[4,2],[5,3],null],mutedStrings:[1,2]},{chord:"E",type:"simple",positions:[[4,1],[2,2],[3,2],null],mutedStrings:[]},{chord:"Emin",type:"simple",positions:[null,[2,2],[3,2],null],mutedStrings:[]},{chord:"F",type:"barre",positions:[[[1,6],1],[4,2],[2,3],[3,3]],mutedStrings:[]},{chord:"G",type:"simple",positions:[[2,2],[1,3],[6,3],null],mutedStrings:[]},{chord:"A",type:"simple",positions:[[3,2],[4,2],[5,2],null],mutedStrings:[1]},{chord:"Amin",type:"simple",positions:[[5,1],[3,2],[4,2],null],mutedStrings:[1]},{chord:"B",type:"barre",positions:[[[2,6],2],[3,4],[4,4],[5,4]],mutedStrings:[1]}]},Y={guitar:["E2","A2","D3","G3","B3","E4"],guitalele:["A2","D3","G3","C4","E4","A4"]},K=Object(J.default)(C.a)(o||(o=Object(B.a)(["\n  width: 36px;\n  height: calc(100% - 12px);\n  justify-self: center;\n  border-radius: 18px;\n"]))),X=Object(J.default)(O.a)(i||(i=Object(B.a)(["\n  width: 36px;\n  height: 36px;\n  border-radius: 18px;\n  text-align: center;\n"]))),q=Object(J.default)(C.a)(c||(c=Object(B.a)(["\n  width: 100%;\n  height: 100%;\n\n  color: ",";\n\n  font-weight: ",";\n\n  "," {\n    display: ",";\n  }\n\n  ","\n\n  ","\n"])),(function(n){var e=n.isStringMuted,t=n.isActive,r=n.theme;return e?r.global.colors["text-xweak"].dark:t?r.global.colors.text.dark:r.global.colors["text-weak"].dark}),(function(n){return n.isActive?"bold":"normal"}),X,(function(n){return n.isVisible?"inline-block":"none"}),(function(n){return n.isVisible&&Object(J.css)(a||(a=Object(B.a)(["\n      & > :nth-child(2) {\n        display: none;\n      }\n    "])))}),(function(n){var e=n.disabled,t=n.isPushed,r=n.theme;return!e&&Object(J.css)(l||(l=Object(B.a)(["\n      cursor: pointer;\n\n      &:hover {\n        "," {\n          display: inline-block;\n\n          background: ",";\n\n          font-weight: bold;\n        }\n\n        & > :nth-child(2) {\n          display: none;\n        }\n      }\n    "])),X,t?r.global.colors["accent-1"]:r.global.colors["background-contrast"].dark)})),$=function(n,e,t,r){return"".concat(e+1,"/").concat(n+1," / ").concat((null!==r&&void 0!==r?r:e)+1+1,"/").concat((null!==t&&void 0!==t?t:n)+1+1)},_=function(n){var e,t,r,o=n.instrument,i=void 0===o?"guitar":o,c=n.chord,a=n.disabled,l=n.highlightedNote,s=n.onHighlightNote,d=c&&(T[i]||[]).find((function(n){return n.chord===c})),u=function(n){return n.map((function(n,e){return{pos:n,fingerIndex:e}})).filter((function(n){return null!=n.pos})).map((function(n){var e=n.pos,t=n.fingerIndex,r=Object(h.a)(e,2),o=r[0],i=r[1],c=Array.isArray(o)?o:[o,o],a=Object(h.a)(c,2);return{startStringId:a[0],endStringId:a[1],fretId:i,fingerIndex:t}}))}(null!==(e=null===d||void 0===d?void 0:d.positions)&&void 0!==e?e:[null,null,null,null]),f=null!==(t=null===d||void 0===d?void 0:d.mutedStrings)&&void 0!==t?t:[],g=u.reduce((function(n,e){var t=e.fretId;return Math.max(n,t)}),4)+1,b=null!==(r=Y[i])&&void 0!==r?r:[null,null,null,null,null,null],j=b.length-1,m=b.map((function(n,e){return{gridArea:$(1,j-e,g,j-e),isMuted:f.includes(e+1)}})),p=new Array(g).fill(void 0).map((function(n,e){return{gridArea:$(e,0,e,j),isStart:0===e}})),O=u.map((function(n){var e=n.startStringId,t=n.endStringId,r=n.fretId,o=n.fingerIndex;return{gridArea:$(r,j-(t-1),r,j-(e-1)),finger:o+1}})),v=b.map((function(n,e){var t=e+1,r=f.includes(t);return new Array(g).fill(void 0).map((function(o,i){var c=!!u.find((function(n){var e=n.startStringId,r=n.endStringId,o=n.fretId;return t>=e&&t<=r&&i===o})),s=function(n,e){var t=E(n),r=Object(h.a)(t,2),o=r[0],i=r[1];return function(n,e){return"".concat(n).concat(e)}(D(o,e),i+Math.sign(e)*Math.floor(Math.abs(e)/12))}(n,i),d=E(s),f=Object(h.a)(d,1)[0];return{gridArea:$(i,j-e),isStringMuted:r,isVisible:c||0===i,isActive:c,isPushed:c&&0!==i,isHighlighted:!a&&l===f,note:s,noteName:f}}))}));return Object(z.jsxs)(x.a,{columns:Array(g).fill("1fr"),rows:Array(j+1).fill("xxsmall"),gap:{row:"xxsmall"},children:[m.map((function(n){var e=n.gridArea,t=n.isMuted;return Object(z.jsx)(C.a,{gridArea:e,background:t?void 0:"background-contrast",border:[{side:"bottom",color:"background-contrast",size:"small"}]})})),p.map((function(n){var e=n.gridArea,t=n.isStart;return Object(z.jsx)(C.a,{gridArea:e,border:{side:"right",color:"text",size:t?"small":"xsmall"}})})),O.map((function(n){var e=n.gridArea;n.finger;return Object(z.jsx)(K,{gridArea:e,alignSelf:"center",background:{dark:"border"}})})),v.map((function(n){return n.map((function(n){var e=n.isStringMuted,t=n.isVisible,r=n.isActive,o=n.isPushed,i=n.isHighlighted,c=n.note,l=n.noteName,d=n.gridArea;return Object(z.jsxs)(q,{gridArea:d,align:"center",justify:"center",disabled:a,isStringMuted:e,isVisible:t||i,isActive:r||i,isPushed:o,onClick:!a&&s?function(){return s(i?void 0:l)}:void 0,children:[Object(z.jsx)(X,{textAlign:"center",children:Object(z.jsx)(Z,{note:c})}),e&&Object(z.jsx)(R.a,{size:"small"})]})}))}))]})},W=function(n){var e=n.chord,t=n.isEditing,r=n.highlightedNote,o=n.onRemoveChord,i=n.onHighlightNote;return Object(z.jsxs)(v.a,{background:"background-back",width:"500px",children:[Object(z.jsx)(U.a,{background:"background-contrast",border:{side:"bottom",color:"background-contrast"},justify:"between",children:Object(z.jsx)(Q,{chord:e,isEditing:t||!1,onRemoveChord:e&&o&&function(){return o(e)}})}),Object(z.jsx)(A.a,{pad:"small",border:{side:"top",color:"background-contrast"},children:Object(z.jsx)(_,{chord:e,disabled:t||!1,highlightedNote:r,onHighlightNote:i})})]})},nn=t(121),en=t(109),tn=function(){return Object(z.jsxs)(nn.a,{fill:!0,interactiveChild:"last",children:[Object(z.jsx)(W,{}),Object(z.jsxs)(C.a,{fill:!0,align:"center",justify:"center",gap:"large",background:{color:"background",opacity:"strong"},border:{color:"border-semi"},children:[Object(z.jsx)(en.a,{size:"large",color:"accent-1"}),Object(z.jsx)(O.a,{size:"large",textAlign:"center",color:"accent-1",children:"Add a chord to start"})]})]})},rn=function(n){var e=n.chords,t=n.isEditing,r=n.onRemoveChord,o=Object(s.useState)(),i=Object(h.a)(o,2),c=i[0],a=i[1];return Object(z.jsx)(x.a,{columns:"medium",gap:"small",justify:"center",children:0!==e.length?e.map((function(n){return Object(z.jsx)(W,{chord:n,isEditing:t,highlightedNote:c,onRemoveChord:r,onHighlightNote:a},n)})):Object(z.jsx)(tn,{})})},on=t(114),cn=t(110),an=t(111),ln=function(n){var e=n.chords,t=n.isEditing,r=n.onAddChord,o=n.onIsEditingChange,i=Object(s.useState)(""),c=Object(h.a)(i,2),a=c[0],l=c[1],d=Object(s.useMemo)((function(){return e.map((function(n){return{label:n,value:n}})).filter((function(n){return n.label.toLowerCase().includes(a.toLowerCase())}))}),[e,a]),u=Object(s.useCallback)((function(n){var e=n.value;l(""),r(e)}),[r]);return Object(z.jsxs)(C.a,{direction:"row",gap:"small",justify:"end",align:"center",children:[Object(z.jsx)(F.a,{open:t,direction:"horizontal",children:Object(z.jsx)(on.a,{icon:Object(z.jsx)(en.a,{}),options:d,valueKey:{key:"value",reduce:!0},labelKey:function(n){return n.label},closeOnChange:!1,placeholder:"Add chords",searchPlaceholder:"Search by name",a11yTitle:"Select chords to add",onSearch:l,onChange:u})}),Object(z.jsx)(y.a,{icon:Object(z.jsxs)(C.a,{direction:"row",children:[Object(z.jsx)(F.a,{open:t,direction:"horizontal",children:Object(z.jsx)(cn.a,{})}),Object(z.jsx)(F.a,{open:!t,direction:"horizontal",children:Object(z.jsx)(an.a,{})})]}),a11yTitle:t?"Done adding/removing chords":"Add/remove chords",primary:t,onClick:function(){return o(!t)}})]})},sn=function(n,e,t,r){var o=Object(s.useMemo)((function(){return function(n,e){var t;return function(r,o){var i=e(r,o);return i!==r&&(window.clearTimeout(t),t=window.setTimeout((function(){try{localStorage.setItem(n,JSON.stringify(i)),console.log("Written to local storage",i)}catch(e){console.error("Couldn't write to local storage.",e)}}),100)),i}}(n,e)}),[n,e]),i=Object(s.useMemo)((function(){return function(n,e){try{var t=localStorage.getItem(n),r=t&&JSON.parse(t);return console.log("Read from local storage",r),r}catch(o){console.error("Couldn't read from local storage.",o)}}(n)}),[n,t]);return Object(s.useReducer)(o,null!==i&&void 0!==i?i:t,i?void 0:r)},dn=t(49),un=t(20),fn={selectedChords:["D"]},hn=function(n,e){switch(e.type){case"addChord":return n.selectedChords.find((function(n){return n===e.chord}))?n:Object(un.a)(Object(un.a)({},n),{},{selectedChords:[].concat(Object(dn.a)(n.selectedChords),[e.chord])});case"removeChord":return n.selectedChords.find((function(n){return n===e.chord}))?Object(un.a)(Object(un.a)({},n),{},{selectedChords:Object(dn.a)(n.selectedChords.filter((function(n){return n!==e.chord})))}):n;default:throw new Error}},gn=function(n){return n.selectedChords},bn=t(60),jn=t(59),mn=Object(jn.deepMerge)(bn.grommet,{global:{colors:{background:"#010115","background-back":{dark:"#080920"},"background-front":{dark:"#15173d"},"background-contrast":{dark:"#3f438a17"},black:"#00010d",white:"#fff9ef",brand:"#87ccb0","accent-1":"#d1ad70",border:{dark:"#d1ad7080"},"border-semi":{dark:"#d1ad7040"}},font:{family:'"Josefin Sans"',face:"/* vietnamese */\n@font-face {\n  font-family: 'Josefin Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMlhLzTs.woff2) format('woff2');\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;\n}\n/* latin-ext */\n@font-face {\n  font-family: 'Josefin Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMhhLzTs.woff2) format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'Josefin Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/josefinsans/v17/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMZhLw.woff2) format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n/* latin-ext */\n@font-face {\n  font-family: 'Limelight';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoNOlHnnY.woff2) format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'Limelight';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoOulH.woff2) format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n\n/* latin-ext */\n@font-face {\n  font-family: 'Limelight';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoNOlHnnY.woff2) format('woff2');\n  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: 'Limelight';\n  font-style: normal;\n  font-weight: 400;\n  src: url(https://fonts.gstatic.com/s/limelight/v11/XLYkIZL7aopJVbZJHDuoOulH.woff2) format('woff2');\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n"}},heading:{font:{family:'"Limelight"'}},button:{border:{radius:"3px"}},card:{container:{border:"solid",round:"xxsmall",elevation:null}}});var pn=function(){var n=sn("applicationState",hn,fn),e=Object(h.a)(n,2),t=e[0],r=e[1],o=gn(t),i=function(n){var e,t=gn(n);return(null!==(e=T.guitar)&&void 0!==e?e:[]).map((function(n){return n.chord})).filter((function(n){return t.indexOf(n)<0}))}(t),c=Object(s.useState)(0===o.length),a=Object(h.a)(c,2),l=a[0],d=a[1],u=Object(s.useCallback)((function(n){return r({type:"addChord",chord:n})}),[r]),f=Object(s.useCallback)((function(n){return r({type:"removeChord",chord:n})}),[r]);return Object(z.jsxs)(g.a,{full:!0,theme:mn,themeMode:"dark",children:[Object(z.jsx)(b.a,{pad:{vertical:"medium",horizontal:"large"},background:"brand",children:Object(z.jsx)(j.a,{size:"small",margin:"none",children:"Chord Helper"})}),Object(z.jsxs)(m.a,{pad:"large",gap:"medium",children:[Object(z.jsx)(ln,{chords:i,isEditing:l,onAddChord:u,onIsEditingChange:d}),Object(z.jsx)(rn,{chords:o,isEditing:l,onRemoveChord:f})]}),Object(z.jsx)(p.a,{pad:{vertical:"small",horizontal:"large"},background:"black",justify:"center",children:Object(z.jsx)(O.a,{color:"text-xweak",children:"Helping you with chords since 2021."})})]})},On=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,122)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),i(n),c(n)}))};f.a.render(Object(z.jsx)(d.a.StrictMode,{children:Object(z.jsx)(pn,{})}),document.getElementById("root")),On()}},[[88,1,2]]]);
//# sourceMappingURL=main.a8ef0339.chunk.js.map