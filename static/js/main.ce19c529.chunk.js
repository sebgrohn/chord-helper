(this["webpackJsonpchord-helper"]=this["webpackJsonpchord-helper"]||[]).push([[0],{66:function(e,n,t){},67:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var r,o,c,a,l,i,d,u=t(0),s=t.n(u),b=t(25),h=t.n(b),j=(t(66),t(6)),g=t(111),m=t(87),f=t(112),O=t(105),v=t(106),x=t(113),p=(t(67),t(114)),k=t(96),C=t(103),w=t(104),y=t(20),A=t(110),S=t(109),M=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],N=/^\s*([A-G]#?)(\d)\s*$/,z=function(e){var n,t=null!==(n=N.exec(e))&&void 0!==n?n:[],r=Object(j.a)(t,3),o=(r[0],r[1]),c=r[2];return[o,Number.parseInt(c)]},G=(Math.pow(2,1/12),function(e,n){var t=M.indexOf(e);return M[(t+n)%12]}),R={"":[0,4,7],maj6:[0,4,7,9],dom7:[0,4,7,10],maj7:[0,4,7,11],aug:[0,4,8],aug7:[0,4,8,10],min:[0,3,7],min6:[0,3,7,9],min7:[0,3,7,10]},D=/^\s*([A-G]#?)(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\s*$/,E=function(e){var n,t=null!==(n=D.exec(e))&&void 0!==n?n:[],r=Object(j.a)(t,3);r[0];return[r[1],r[2]]},H=t(10),P=t(1),F=t(2),B=/^\s*([A-G])(#)?(|maj6|dom7|maj7|aug|aug7|min|min6|min7)\s*$/,I=P.default.span(r||(r=Object(H.a)(["\n  padding-left: ",";\n"])),(function(e){return e.theme.global.borderSize.small})),T=function(e){var n=function(e){var n,t=null!==(n=B.exec(e))&&void 0!==n?n:[],r=Object(j.a)(t,4);return r[0],[r[1],r[2],r[3]]}(e.chord),t=Object(j.a)(n,3),r=t[0],o=t[1],c=t[2];return Object(F.jsxs)("span",{children:[r,Object(F.jsx)("sup",{children:o&&"\u266f"}),c&&Object(F.jsx)(I,{children:c})]})},V=/^\s*([A-G])(#)?(\d)?\s*$/,J=function(e){var n=function(e){var n,t=null!==(n=V.exec(e))&&void 0!==n?n:[],r=Object(j.a)(t,4);return r[0],[r[1],r[2],r[3]]}(e.note),t=Object(j.a)(n,3),r=t[0],o=t[1],c=t[2];return Object(F.jsxs)("span",{children:[r,Object(F.jsx)("sup",{children:o&&"\u266f"}),c&&Object(F.jsx)("sub",{children:c})]})},L=function(e){var n=e.chord,t=e.onRemoveChord;if(!n)return null;var r=function(e){var n=E(e),t=Object(j.a)(n,2),r=t[0],o=t[1];return R[o].map((function(e){return G(r,e)}))}(n);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(k.a,{pad:{horizontal:"medium",vertical:"small"},background:"background-front",border:{side:"right",color:"background-contrast"},children:Object(F.jsx)(f.a,{level:2,size:"small",color:"accent-1",margin:"none",children:Object(F.jsx)(T,{chord:n})})}),Object(F.jsx)(y.a,{pad:{horizontal:"medium",vertical:"small"},direction:"row",gap:"small",children:r.map((function(e){return Object(F.jsx)(x.a,{children:Object(F.jsx)(J,{note:e})},e)}))}),Object(F.jsx)(y.a,{pad:{horizontal:"medium",vertical:"small"},children:Object(F.jsx)(A.a,{a11yTitle:"Remove chord ".concat(n),onClick:t,children:Object(F.jsx)(y.a,{children:Object(F.jsx)(S.a,{})})})})]})},$=t(13),K={guitar:{C:[null,3,2,0,1,0],D:[null,null,0,2,3,2],Dmin:[null,null,0,2,3,1],E:[0,2,2,1,0,0],Emin:[0,2,2,0,0,0],G:[3,2,0,0,0,3],A:[null,0,2,2,2,0],Amin:[null,0,2,2,1,0],B:[null,2,4,4,4,2]},guitalele:{}},W={guitar:["E2","A2","D3","G3","B3","E4"],guitalele:["A2","D3","G3","C4","E4","A4"]},q=P.default.table(o||(o=Object(H.a)(["\n  box-sizing: border-box;\n\n  cursor: pointer;\n  user-select: none;\n\n  width: 100%;\n  height: 100%;\n\n  text-align: center;\n\n  td {\n    min-width: 36px;\n    height: 36px;\n\n    border-bottom: "," solid\n      ",";\n    border-right: "," solid\n      ",";\n\n    &:first-child {\n      min-width: 24px;\n      border-right-width: ",";\n\n      background: inherit;\n    }\n  }\n\n  tr:last-child > td,\n  td:first-child {\n    border-bottom: none;\n  }\n"])),(function(e){return e.theme.global.borderSize.xsmall}),(function(e){return e.theme.global.colors["background-contrast"].dark}),(function(e){return e.theme.global.borderSize.xsmall}),(function(e){return e.theme.global.colors.text.dark}),(function(e){return e.theme.global.borderSize.small})),Q=P.default.div(c||(c=Object(H.a)(["\n  width: 34px;\n  height: 34px;\n  border-radius: 18px;\n  text-align: center;\n"]))),U=P.default.td(a||(a=Object(H.a)(["\n  ","\n\n  font-weight: ",";\n\n  "," {\n    display: ",";\n\n    background: ",";\n  }\n\n  ","\n\n  &:hover {\n    "," {\n      display: inline-block;\n\n      background: ",";\n\n      font-weight: bold;\n    }\n\n    & > :nth-child(2) {\n      display: none;\n    }\n  }\n"])),(function(e){var n=e.isStringMuted,t=e.isActive,r=e.theme;return n?Object(P.css)(l||(l=Object(H.a)(["\n          color: ",";\n        "])),r.global.colors["text-xweak"].dark):Object(P.css)(i||(i=Object(H.a)(["\n          background: ",";\n          color: ",";\n        "])),r.global.colors["background-contrast"].dark,t?r.global.colors.text.dark:r.global.colors["text-weak"].dark)}),(function(e){return e.isActive?"bold":"normal"}),Q,(function(e){return e.isVisible?"inline-block":"none"}),(function(e){var n=e.isPushed,t=e.theme;return n?t.global.colors.border.dark:"transparent"}),(function(e){return e.isVisible&&Object(P.css)(d||(d=Object(H.a)(["\n      & > :nth-child(2) {\n        display: none;\n      }\n    "])))}),Q,(function(e){var n=e.isPushed,t=e.theme;return n?t.global.colors["accent-1"]:t.global.colors["background-contrast"].dark})),X=function(e){var n,t=e.instrument,r=void 0===t?"guitar":t,o=e.chord,c=e.highlightedNote,a=e.onHighlightNote,l=K[r],i=o&&o in l&&l[o]||[null,null,null,null,null,null],d=Object($.a)(i).reverse(),u=i.map((function(e){return null!==e&&void 0!==e?e:0})).reduce((function(e,n){return e>n?e:n}),4)+1,s=null!==(n=W[r])&&void 0!==n?n:[null,null,null,null,null,null],b=Object($.a)(s).reverse(),h=d.map((function(e,n){return new Array(u).fill(void 0).map((function(t,r){var o=function(e,n){var t=z(e),r=Object(j.a)(t,2),o=r[0],c=r[1];return function(e,n){return"".concat(e).concat(n)}(G(o,n),c+Math.sign(n)*Math.floor(Math.abs(n)/12))}(b[n],r),a=z(o),l=Object(j.a)(a,1)[0];return{isStringMuted:null===e,isVisible:r===e||0===r,isActive:r===e,isPushed:r===e&&0!==r,isHighlighted:c===l,note:o,noteName:l}}))}));return Object(F.jsx)(q,{children:Object(F.jsx)("tbody",{children:h.map((function(e,n){return Object(F.jsx)("tr",{children:e.map((function(e){var t=e.isStringMuted,r=e.isVisible,o=e.isActive,c=e.isPushed,l=e.isHighlighted,i=e.note,d=e.noteName;return Object(F.jsxs)(U,{isStringMuted:t,isVisible:r||l,isActive:o||l,isPushed:c,onClick:function(){return a(l?void 0:d)},children:[Object(F.jsx)(Q,{children:Object(F.jsx)(J,{note:i})}),t&&!r&&Object(F.jsx)(x.a,{children:"\ud83d\udfa9"})]},"".concat(n).concat(i))}))},n)}))})})},Y=function(e){var n=e.chord,t=e.highlightedNote,r=e.onRemoveChord,o=e.onHighlightNote;return Object(F.jsxs)(k.a,{background:"background-back",width:"500px",children:[Object(F.jsx)(C.a,{background:"background-contrast",border:{side:"bottom",color:"background-contrast"},justify:"between",children:Object(F.jsx)(L,{chord:n,onRemoveChord:function(){return r(n)}})}),Object(F.jsx)(w.a,{pad:"small",border:{side:"top",color:"background-contrast"},children:Object(F.jsx)(X,{chord:n,highlightedNote:t,onHighlightNote:o})})]})},Z=function(e){var n=e.chords,t=e.onRemoveChord,r=Object(u.useState)(),o=Object(j.a)(r,2),c=o[0],a=o[1];return Object(F.jsx)(p.a,{columns:"medium",gap:"small",justify:"center",children:n.map((function(e){return Object(F.jsx)(Y,{chord:e,highlightedNote:c,onRemoveChord:t,onHighlightNote:a},e)}))})},_=t(107),ee=function(e){var n=e.chords,t=e.onAddChord,r=Object(u.useState)(""),o=Object(j.a)(r,2),c=o[0],a=o[1],l=Object(u.useMemo)((function(){return n.map((function(e){return{label:e,value:e}})).filter((function(e){return e.label.toLowerCase().includes(c.toLowerCase())}))}),[n,c]),i=Object(u.useCallback)((function(e){var n=e.value;a(""),t(n)}),[t]);return Object(F.jsx)(_.a,{options:l,valueKey:{key:"value",reduce:!0},labelKey:function(e){return e.label},closeOnChange:!1,placeholder:"Add chords",searchPlaceholder:"Search by name",onSearch:a,onChange:i})},ne=function(e,n,t,r){var o=Object(u.useMemo)((function(){return function(e,n){var t;return function(r,o){var c=n(r,o);return c!==r&&(window.clearTimeout(t),t=window.setTimeout((function(){try{localStorage.setItem(e,JSON.stringify(c)),console.log("Written to local storage",c)}catch(n){console.error("Couldn't write to local storage.",n)}}),100)),c}}(e,n)}),[e,n]),c=Object(u.useMemo)((function(){return function(e,n){try{var t=localStorage.getItem(e),r=t&&JSON.parse(t);return console.log("Read from local storage",r),r}catch(o){console.error("Couldn't read from local storage.",o)}}(e)}),[e,t]);return Object(u.useReducer)(o,null!==c&&void 0!==c?c:t,c?void 0:r)},te=t(19),re={selectedChords:["D"]},oe=function(e,n){switch(n.type){case"addChord":return e.selectedChords.find((function(e){return e===n.chord}))?e:Object(te.a)(Object(te.a)({},e),{},{selectedChords:[].concat(Object($.a)(e.selectedChords),[n.chord])});case"removeChord":return e.selectedChords.find((function(e){return e===n.chord}))?Object(te.a)(Object(te.a)({},e),{},{selectedChords:Object($.a)(e.selectedChords.filter((function(e){return e!==n.chord})))}):e;default:throw new Error}},ce=function(e){return e.selectedChords},ae=t(58),le=t(57),ie=Object(le.deepMerge)(ae.grommet,{global:{colors:{background:"#010115","background-back":{dark:"#080920"},"background-front":{dark:"#15173d"},"background-contrast":{dark:"#3f438a17"},black:"#00010d",white:"#fff9ef",brand:"#87ccb0","accent-1":"#d1ad70",border:{dark:"#d1ad7080"}}},card:{container:{border:"solid",round:"xxsmall",elevation:null}}});var de=function(){var e=ne("applicationState",oe,re),n=Object(j.a)(e,2),t=n[0],r=n[1],o=ce(t),c=function(e){var n=ce(e);return Object.keys(K.guitar).filter((function(e){return n.indexOf(e)<0}))}(t),a=Object(u.useCallback)((function(e){return r({type:"addChord",chord:e})}),[r]),l=Object(u.useCallback)((function(e){return r({type:"removeChord",chord:e})}),[r]);return Object(F.jsxs)(g.a,{full:!0,theme:ie,themeMode:"dark",children:[Object(F.jsx)(m.a,{pad:{vertical:"medium",horizontal:"large"},background:"brand",children:Object(F.jsx)(f.a,{size:"small",margin:"none",children:"Chord Helper"})}),Object(F.jsxs)(O.a,{pad:"large",gap:"medium",children:[Object(F.jsx)(ee,{chords:c,onAddChord:a}),Object(F.jsx)(Z,{chords:o,onRemoveChord:l})]}),Object(F.jsx)(v.a,{pad:{vertical:"small",horizontal:"large"},background:"black",justify:"center",children:Object(F.jsx)(x.a,{color:"text-xweak",children:"Helping you with chords since 2021."})})]})},ue=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,115)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),r(e),o(e),c(e),a(e)}))};h.a.render(Object(F.jsx)(s.a.StrictMode,{children:Object(F.jsx)(de,{})}),document.getElementById("root")),ue()}},[[86,1,2]]]);
//# sourceMappingURL=main.ce19c529.chunk.js.map